(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{qPMy:function(t,e,n){"use strict";n.r(e),n.d(e,"AdminPaintedModule",(function(){return ae}));var a=n("ofXK"),i=n("tyNb"),o=n("H8qh"),l=n("Kdsb"),r=n("0IaG"),c=n("EUZL"),s=n("fXoL"),d=n("rxmM"),b=n("Kmm4"),p=n("as5N"),m=n("kmnG"),u=n("d3UM"),g=n("3Pt+"),f=n("bTqV"),h=n("FKr1"),C=n("qFsG"),M=n("NFeN"),T=n("bSwM"),I=["fileInput"],E=["UploadFileInput"];function D(t,e){if(1&t&&(s.Ub(0,"mat-option",11),s.Ic(1),s.Tb()),2&t){var n=e.$implicit;s.mc("value",n.id),s.Cb(1),s.Kc(" ",n.name," ")}}function v(t,e){if(1&t&&(s.Ub(0,"mat-option",11),s.Ic(1),s.Tb()),2&t){var n=e.$implicit;s.mc("value",n),s.Cb(1),s.Kc(" ",n.name," ")}}function _(t,e){if(1&t){var n=s.Vb();s.Ub(0,"mat-form-field",2),s.Ub(1,"mat-label"),s.Ic(2,"Table List"),s.Tb(),s.Ub(3,"mat-select",12),s.bc("ngModelChange",(function(t){return s.xc(n),s.fc(2).oTable=t}))("selectionChange",(function(t){return s.xc(n),s.fc(2).onTablChange(t)})),s.Gc(4,v,2,2,"mat-option",4),s.Tb(),s.Tb()}if(2&t){var a=s.fc(2);s.Cb(3),s.mc("ngModel",a.oTable),s.Cb(1),s.mc("ngForOf",a.tableList)}}function U(t,e){if(1&t){var n=s.Vb();s.Ub(0,"mat-form-field",2),s.Ub(1,"input",13),s.bc("ngModelChange",(function(t){return s.xc(n),s.fc(2).myfilename=t})),s.Tb(),s.Ub(2,"button",14),s.Ub(3,"mat-icon"),s.Ic(4,"file_upload"),s.Tb(),s.Tb(),s.Ub(5,"input",15,16),s.bc("ngModelChange",(function(t){return s.xc(n),s.fc(2).myfilename=t}))("change",(function(t){return s.xc(n),s.fc(2).fileChangeEvent(t)})),s.Tb(),s.Tb()}if(2&t){var a=s.fc(2);s.Cb(1),s.mc("ngModel",a.myfilename),s.Cb(4),s.mc("ngModel",a.myfilename)}}function O(t,e){if(1&t){var n=s.Vb();s.Ub(0,"mat-form-field",2),s.Ub(1,"mat-label"),s.Ic(2,"Model No"),s.Tb(),s.Ub(3,"input",17),s.bc("ngModelChange",(function(t){return s.xc(n),s.fc(2).model=t})),s.Tb(),s.Tb()}if(2&t){var a=s.fc(2);s.Cb(3),s.mc("ngModel",a.model)}}function x(t,e){if(1&t){var n=s.Vb();s.Ub(0,"mat-form-field"),s.Ub(1,"input",18),s.bc("ngModelChange",(function(t){return s.xc(n),s.fc(2).imagename=t})),s.Tb(),s.Ub(2,"input",19,16),s.bc("ngModelChange",(function(t){return s.xc(n),s.fc(2).imagename=t}))("change",(function(t){return s.xc(n),s.fc(2).filesDropped(t,1)})),s.Tb(),s.Ub(4,"button",20),s.bc("click",(function(){return s.xc(n),s.fc(2).uploadImage()})),s.Ub(5,"mat-icon"),s.Ic(6,"file_upload"),s.Tb(),s.Ic(7,"Upload "),s.Tb(),s.Tb()}if(2&t){var a=s.fc(2);s.Cb(1),s.mc("ngModel",a.imagename),s.Cb(1),s.mc("ngModel",a.imagename)}}function S(t,e){if(1&t){var n=s.Vb();s.Ub(0,"button",21),s.bc("click",(function(){return s.xc(n),s.fc(2).BtnSaveUpload()})),s.Ic(1,"Save"),s.Tb()}if(2&t){var a=s.fc(2);s.mc("disabled",a.disabled)}}function y(t,e){if(1&t){var n=s.Vb();s.Ub(0,"button",22),s.bc("click",(function(){return s.xc(n),s.fc(2).exportAsXLSX()})),s.Ub(1,"mat-icon"),s.Ic(2,"download"),s.Tb(),s.Ic(3," Import"),s.Tb()}}function P(t,e){if(1&t){var n=s.Vb();s.Ub(0,"div",1),s.Ub(1,"div"),s.Ub(2,"mat-form-field",2),s.Ub(3,"mat-label"),s.Ic(4,"Header List"),s.Tb(),s.Ub(5,"mat-select",3),s.bc("ngModelChange",(function(t){return s.xc(n),s.fc().oType=t})),s.Gc(6,D,2,2,"mat-option",4),s.Tb(),s.Tb(),s.Gc(7,_,5,2,"mat-form-field",5),s.Tb(),s.Gc(8,U,7,2,"mat-form-field",5),s.Gc(9,O,4,1,"mat-form-field",5),s.Gc(10,x,8,2,"mat-form-field",6),s.Pb(11,"br"),s.Ub(12,"div",7),s.Ub(13,"button",8),s.Ic(14,"Cancel"),s.Tb(),s.Gc(15,S,2,1,"button",9),s.Gc(16,y,4,0,"button",10),s.Tb(),s.Tb()}if(2&t){var a=s.fc();s.Cb(5),s.mc("ngModel",a.oType),s.Cb(1),s.mc("ngForOf",a.typeList),s.Cb(1),s.mc("ngIf",1==a.oType),s.Cb(1),s.mc("ngIf","file"==a.upldType),s.Cb(1),s.mc("ngIf","image"==a.upldType&&a.modelEnbl),s.Cb(1),s.mc("ngIf","image"==a.upldType),s.Cb(3),s.mc("mat-dialog-close",!1),s.Cb(2),s.mc("ngIf","image"!=a.upldType),s.Cb(1),s.mc("ngIf","image"!=a.upldType)}}function L(t,e){if(1&t){var n=s.Vb();s.Ub(0,"div"),s.Ub(1,"mat-form-field",25),s.Ub(2,"mat-label",24),s.Ic(3,"LEVEL 2"),s.Tb(),s.Ub(4,"input",42),s.bc("ngModelChange",(function(t){return s.xc(n),s.fc(2).paintedEData.DS_LEVEL=t})),s.Tb(),s.Tb(),s.Ub(5,"mat-form-field",25),s.Ub(6,"mat-label",24),s.Ic(7,"LEVEL NAME 2"),s.Tb(),s.Ub(8,"input",43),s.bc("ngModelChange",(function(t){return s.xc(n),s.fc(2).paintedEData.DS_LEVEL_NAME_L2=t})),s.Tb(),s.Tb(),s.Ub(9,"mat-form-field",25),s.Ub(10,"mat-label",24),s.Ic(11,"MODEL ID"),s.Tb(),s.Ub(12,"input",36),s.bc("ngModelChange",(function(t){return s.xc(n),s.fc(2).paintedEData.MODEL_ID=t})),s.Tb(),s.Tb(),s.Ub(13,"mat-form-field",25),s.Ub(14,"mat-label",24),s.Ic(15,"ORDER BY"),s.Tb(),s.Ub(16,"input",31),s.bc("ngModelChange",(function(t){return s.xc(n),s.fc(2).paintedEData.DORDER_BY=t})),s.Tb(),s.Tb(),s.Ub(17,"mat-checkbox",30),s.bc("ngModelChange",(function(t){return s.xc(n),s.fc(2).paintedEData.DIS_SUB_SEGMENT=t})),s.Ic(18,"Is Sub Segment"),s.Tb(),s.Ub(19,"mat-form-field",25),s.Ub(20,"mat-label",24),s.Ic(21,"STATUS"),s.Tb(),s.Ub(22,"mat-select",32),s.bc("ngModelChange",(function(t){return s.xc(n),s.fc(2).paintedEData.DACTIVE=t})),s.Ub(23,"mat-option",11),s.Ic(24,"Active"),s.Tb(),s.Ub(25,"mat-option",11),s.Ic(26,"Inactive"),s.Tb(),s.Tb(),s.Tb(),s.Ub(27,"button",33),s.bc("click",(function(){return s.xc(n),s.fc(2).UpdateSegment(3)})),s.Ub(28,"mat-icon"),s.Ic(29,"update"),s.Tb(),s.Ic(30," UPDATE "),s.Tb(),s.Tb()}if(2&t){var a=s.fc(2);s.Cb(4),s.mc("ngModel",a.paintedEData.DS_LEVEL),s.Cb(4),s.mc("ngModel",a.paintedEData.DS_LEVEL_NAME_L2),s.Cb(4),s.mc("readonly",!0)("ngModel",a.paintedEData.MODEL_ID),s.Cb(4),s.mc("ngModel",a.paintedEData.DORDER_BY),s.Cb(1),s.mc("checked",a.checked)("ngModel",a.paintedEData.DIS_SUB_SEGMENT),s.Cb(5),s.mc("ngClass",a.selected)("ngModel",a.paintedEData.DACTIVE),s.Cb(1),s.mc("value",!0),s.Cb(2),s.mc("value",!1)}}function A(t,e){if(1&t&&(s.Ub(0,"mat-option",11),s.Ic(1),s.Tb()),2&t){var n=e.$implicit;s.mc("value",n),s.Cb(1),s.Kc(" ",n.COLOR_DESC," ")}}function N(t,e){if(1&t){var n=s.Vb();s.Ub(0,"div",1),s.Ub(1,"div",23),s.Ub(2,"div"),s.Ub(3,"mat-label",24),s.Ic(4,"Edit Model and Segment"),s.Tb(),s.Tb(),s.Ub(5,"div"),s.Ub(6,"mat-form-field",25),s.Ub(7,"mat-label",24),s.Ic(8,"SEGMENT ID"),s.Tb(),s.Ub(9,"input",26),s.bc("ngModelChange",(function(t){return s.xc(n),s.fc().paintedEData.BSEGMENT_ID=t})),s.Tb(),s.Tb(),s.Ub(10,"mat-form-field",25),s.Ub(11,"mat-label",24),s.Ic(12,"DESCRIPTION"),s.Tb(),s.Ub(13,"input",27),s.bc("ngModelChange",(function(t){return s.xc(n),s.fc().paintedEData.BSEGMENT_DESC=t})),s.Tb(),s.Tb(),s.Ub(14,"mat-form-field",25),s.Ub(15,"mat-label",24),s.Ic(16,"LEVEL"),s.Tb(),s.Ub(17,"input",28),s.bc("ngModelChange",(function(t){return s.xc(n),s.fc().paintedEData.BS_LEVEL=t})),s.Tb(),s.Tb(),s.Ub(18,"mat-form-field",25),s.Ub(19,"mat-label",24),s.Ic(20,"LEVEL NAME"),s.Tb(),s.Ub(21,"input",29),s.bc("ngModelChange",(function(t){return s.xc(n),s.fc().paintedEData.BS_LEVEL_NAME=t})),s.Tb(),s.Tb(),s.Ub(22,"mat-checkbox",30),s.bc("ngModelChange",(function(t){return s.xc(n),s.fc().paintedEData.BIS_SUB_SEGMENT=t})),s.Ic(23,"Is Sub Segment"),s.Tb(),s.Ub(24,"mat-form-field",25),s.Ub(25,"mat-label",24),s.Ic(26,"ORDER BY"),s.Tb(),s.Ub(27,"input",31),s.bc("ngModelChange",(function(t){return s.xc(n),s.fc().paintedEData.BORDER_BY=t})),s.Tb(),s.Tb(),s.Ub(28,"mat-form-field",25),s.Ub(29,"mat-label",24),s.Ic(30,"STATUS"),s.Tb(),s.Ub(31,"mat-select",32),s.bc("ngModelChange",(function(t){return s.xc(n),s.fc().paintedEData.BACTIVE=t})),s.Ub(32,"mat-option",11),s.Ic(33,"Active"),s.Tb(),s.Ub(34,"mat-option",11),s.Ic(35,"Inactive"),s.Tb(),s.Tb(),s.Tb(),s.Ub(36,"button",33),s.bc("click",(function(){return s.xc(n),s.fc().UpdateSegment(1)})),s.Ub(37,"mat-icon"),s.Ic(38,"update"),s.Tb(),s.Ic(39," UPDATE "),s.Tb(),s.Tb(),s.Ub(40,"div"),s.Ub(41,"mat-form-field",25),s.Ub(42,"mat-label",24),s.Ic(43,"LEVEL 1"),s.Tb(),s.Ub(44,"input",34),s.bc("ngModelChange",(function(t){return s.xc(n),s.fc().paintedEData.CS_LEVEL=t})),s.Tb(),s.Tb(),s.Ub(45,"mat-form-field",25),s.Ub(46,"mat-label",24),s.Ic(47,"LEVEL NAME 1"),s.Tb(),s.Ub(48,"input",35),s.bc("ngModelChange",(function(t){return s.xc(n),s.fc().paintedEData.CS_LEVEL_NAME=t})),s.Tb(),s.Tb(),s.Ub(49,"mat-form-field",25),s.Ub(50,"mat-label",24),s.Ic(51,"MODEL ID"),s.Tb(),s.Ub(52,"input",36),s.bc("ngModelChange",(function(t){return s.xc(n),s.fc().paintedEData.MODEL_ID=t})),s.Tb(),s.Tb(),s.Ub(53,"mat-form-field",25),s.Ub(54,"mat-label",24),s.Ic(55,"ORDER BY"),s.Tb(),s.Ub(56,"input",31),s.bc("ngModelChange",(function(t){return s.xc(n),s.fc().paintedEData.CORDER_BY=t})),s.Tb(),s.Tb(),s.Ub(57,"mat-checkbox",30),s.bc("ngModelChange",(function(t){return s.xc(n),s.fc().paintedEData.CIS_SUB_SEGMENT=t})),s.Ic(58,"Is Sub Segment"),s.Tb(),s.Ub(59,"mat-form-field",25),s.Ub(60,"mat-label",24),s.Ic(61,"STATUS"),s.Tb(),s.Ub(62,"mat-select",32),s.bc("ngModelChange",(function(t){return s.xc(n),s.fc().paintedEData.CACTIVE=t})),s.Ub(63,"mat-option",11),s.Ic(64,"Active"),s.Tb(),s.Ub(65,"mat-option",11),s.Ic(66,"Inactive"),s.Tb(),s.Tb(),s.Tb(),s.Ub(67,"button",33),s.bc("click",(function(){return s.xc(n),s.fc().UpdateSegment(2)})),s.Ub(68,"mat-icon"),s.Ic(69,"update"),s.Tb(),s.Ic(70," UPDATE "),s.Tb(),s.Tb(),s.Gc(71,L,31,11,"div",6),s.Ub(72,"div"),s.Ub(73,"mat-form-field",25),s.Ub(74,"mat-label",24),s.Ic(75,"Color"),s.Tb(),s.Ub(76,"mat-select",37),s.bc("selectionChange",(function(t){return s.xc(n),s.fc().onColorchange(t.value.COLOR_ID)})),s.Ub(77,"mat-option",38),s.Ic(78,"Select"),s.Tb(),s.Gc(79,A,2,2,"mat-option",4),s.Tb(),s.Tb(),s.Ub(80,"mat-form-field",25),s.Ub(81,"mat-label",24),s.Ic(82,"COLOR ID"),s.Tb(),s.Ub(83,"input",39),s.bc("ngModelChange",(function(t){return s.xc(n),s.fc().colorLstfilter.COLOR_ID=t})),s.Tb(),s.Tb(),s.Ub(84,"mat-form-field",25),s.Ub(85,"mat-label",24),s.Ic(86,"COLOR DESC"),s.Tb(),s.Ub(87,"input",40),s.bc("ngModelChange",(function(t){return s.xc(n),s.fc().colorLstfilter.COLOR_DESC=t})),s.Tb(),s.Tb(),s.Ub(88,"mat-form-field",25),s.Ub(89,"mat-label",24),s.Ic(90,"MODEL ID"),s.Tb(),s.Ub(91,"input",36),s.bc("ngModelChange",(function(t){return s.xc(n),s.fc().colorLstfilter.MODEL_ID=t})),s.Tb(),s.Tb(),s.Ub(92,"mat-form-field",25),s.Ub(93,"mat-label",24),s.Ic(94,"FIG NO"),s.Tb(),s.Ub(95,"input",41),s.bc("ngModelChange",(function(t){return s.xc(n),s.fc().colorLstfilter.FIG_NO=t})),s.Tb(),s.Tb(),s.Ub(96,"mat-form-field",25),s.Ub(97,"mat-label",24),s.Ic(98,"ORDER BY"),s.Tb(),s.Ub(99,"input",31),s.bc("ngModelChange",(function(t){return s.xc(n),s.fc().colorLstfilter.ORDER_BY=t})),s.Tb(),s.Tb(),s.Ub(100,"mat-form-field",25),s.Ub(101,"mat-label",24),s.Ic(102,"STATUS"),s.Tb(),s.Ub(103,"mat-select",32),s.bc("ngModelChange",(function(t){return s.xc(n),s.fc().colorLstfilter.ACTIVE=t})),s.Ub(104,"mat-option",11),s.Ic(105,"Active"),s.Tb(),s.Ub(106,"mat-option",11),s.Ic(107,"Inactive"),s.Tb(),s.Tb(),s.Tb(),s.Ub(108,"button",33),s.bc("click",(function(){return s.xc(n),s.fc().UpdateSegment(4)})),s.Ub(109,"mat-icon"),s.Ic(110,"update"),s.Tb(),s.Ic(111," UPDATE "),s.Tb(),s.Tb(),s.Tb(),s.Tb()}if(2&t){var a=s.fc();s.Cb(9),s.mc("ngModel",a.paintedEData.BSEGMENT_ID),s.Cb(4),s.mc("ngModel",a.paintedEData.BSEGMENT_DESC),s.Cb(4),s.mc("ngModel",a.paintedEData.BS_LEVEL),s.Cb(4),s.mc("ngModel",a.paintedEData.BS_LEVEL_NAME),s.Cb(1),s.mc("checked",a.checked)("ngModel",a.paintedEData.BIS_SUB_SEGMENT),s.Cb(5),s.mc("ngModel",a.paintedEData.BORDER_BY),s.Cb(4),s.mc("ngClass",a.selected)("ngModel",a.paintedEData.BACTIVE),s.Cb(1),s.mc("value",!0),s.Cb(2),s.mc("value",!1),s.Cb(10),s.mc("ngModel",a.paintedEData.CS_LEVEL),s.Cb(4),s.mc("ngModel",a.paintedEData.CS_LEVEL_NAME),s.Cb(4),s.mc("readonly",!0)("ngModel",a.paintedEData.MODEL_ID),s.Cb(4),s.mc("ngModel",a.paintedEData.CORDER_BY),s.Cb(1),s.mc("checked",a.checked)("ngModel",a.paintedEData.CIS_SUB_SEGMENT),s.Cb(5),s.mc("ngClass",a.selected)("ngModel",a.paintedEData.CACTIVE),s.Cb(1),s.mc("value",!0),s.Cb(2),s.mc("value",!1),s.Cb(6),s.mc("ngIf",a.paintedEData.CIS_SUB_SEGMENT),s.Cb(5),s.mc("ngClass",a.selected),s.Cb(3),s.mc("ngForOf",a.paintedECData),s.Cb(4),s.mc("ngModel",a.colorLstfilter.COLOR_ID),s.Cb(4),s.mc("ngModel",a.colorLstfilter.COLOR_DESC),s.Cb(4),s.mc("readonly",!0)("ngModel",a.colorLstfilter.MODEL_ID),s.Cb(4),s.mc("ngModel",a.colorLstfilter.FIG_NO),s.Cb(4),s.mc("ngModel",a.colorLstfilter.ORDER_BY),s.Cb(4),s.mc("ngClass",a.selected)("ngModel",a.colorLstfilter.ACTIVE),s.Cb(1),s.mc("value",!0),s.Cb(2),s.mc("value",!1)}}var w=function(){function t(t,e,n,a,i,o,l){this.ngZone=t,this.dialogRef=e,this.data=n,this.router=a,this.masterdata=i,this.toaster=o,this.excelService=l,this.myfilename="Select File",this.excelDatasource=[],this.disabled=!0,this.PaintedList=[],this.typeList=[{id:1,name:"Painted Data"}],this.tableList=[{id:1,name:"ECAT_PAINTED_HOME_SGMT_MASTER"},{id:2,name:"ECAT_PAINTED_HOME_SGMT_LEVEL1"},{id:3,name:"ECAT_PAINTED_HOME_SGMT_LEVEL2"},{id:4,name:"ECAT_PAINTED_HOME_MODEL_MASTER"},{id:5,name:"ECAT_PAINTED_HOME_COLOR_MASTER"},{id:6,name:"ECAT_PAINTED_MASTER"},{id:7,name:"ECAT_PAINTED_NUMBER"},{id:8,name:"ECAT_PAINTED_VEH_IMAGES"}]}return t.prototype.ngOnInit=function(){this.data&&("file"!=this.data.upldOpt&&"image"!=this.data.upldOpt||(this.upldType=this.data.upldOpt),"edit"==this.data.upldOpt&&(this.editEleData=this.data.data[0],this.paintedECData=this.data.colData,this.paintedEData=this.editEleData,this.colorLstfilter=this.paintedECData[0])),console.log("typ1",this.editEleData,this.paintedEData)},t.prototype.fileChangeEvent=function(t){var e=this;if(!this.oType&&null==this.oTable)return this.toaster.warningToastr("Select the Type and Table to Upload"),void(this.myfilename="");if(t.target.files&&t.target.files[0]){if(this.myfilename="",this.file=t.target.files[0],this.file.size>0){var n=new FileReader;n.readAsArrayBuffer(this.file),n.onload=function(t){e.arrayBuffer=n.result;var a=new Uint8Array(e.arrayBuffer);console.log("dat1",a);for(var i=new Array,o=0;o!=a.length;++o)i[o]=String.fromCharCode(a[o]);var l=i.join(""),r=c.read(l,{type:"binary"}),s=r.SheetNames;if(s.length>0&&(s=s.filter((function(t){return t==e.oTable.name}))),e.oTable.name==s){console.log("tette",s);var d=r.Sheets[e.oTable.name];console.log(c.utils.sheet_to_json(d,{raw:!0}));var b=c.utils.sheet_to_json(d,{defval:""});e.filelist=[],e.filelist=b,e.myfilename+=e.file.name,console.log("filename",e.myfilename),e.disabled=!1}else e.toaster.warningToastr("selected table is not in Excel File")},n.readAsArrayBuffer(t.target.files[0])}this.uploadFileInput.nativeElement.value=""}else this.myfilename="Select File"},t.prototype.fileChangeEvent123=function(t){var e=this;try{var a=t.target.files[0].name;Promise.resolve().then(n.t.bind(null,"EUZL",7)).then((function(n){var i=null,o=null,l=new FileReader;l.onload=function(t){i=n.read(l.result,{type:"binary"}),o=i.SheetNames.reduce((function(t,e){var a=i.Sheets[e];return console.log("sheet",a),t[e]=n.utils.sheet_to_json(a),t}),{}),e.filelist=o[Object.keys(o)[0]],console.log("fillist",e.filelist),e.disabled=!1},e.myfilename=a,l.readAsBinaryString(t.target.files[0])}))}catch(t){console.log("error",t)}},t.prototype.readToDataSource=function(){var t=this;if(this.filelist.length>0){if(1==this.oTable.id)var e={type:this.oType,mTable:this.oTable.name,mlist1:this.filelist};else if(2==this.oTable.id)e={type:this.oType,mTable:this.oTable.name,mlist2:this.filelist};else if(3==this.oTable.id)e={type:this.oType,mTable:this.oTable.name,mlist3:this.filelist};else if(4==this.oTable.id)e={type:this.oType,mTable:this.oTable.name,mlist4:this.filelist};else if(5==this.oTable.id)e={type:this.oType,mTable:this.oTable.name,mlist5:this.filelist};else if(6==this.oTable.id)e={type:this.oType,mTable:this.oTable.name,mlist6:this.filelist};else if(7==this.oTable.id)e={type:this.oType,mTable:this.oTable.name,mlist7:this.filelist};else{if(8!=this.oTable.id)return void this.toaster.infoToastr("Select the Table to uplaod");e={type:this.oType,mTable:this.oTable.name,mlist8:this.filelist}}this.masterdata.post(e,"api/CatalougeMaster/UploadExcelPaintedData").subscribe((function(e){200==e.statusCode?(t.toaster.successToastr(e.data),t.myfilename=null):t.toaster.errorToastr("Duplicate Import"),e&&401==e.statusCode&&t.toaster.errorToastr("Error on Upload"),t.disabled=!0,t.myfilename=null}),(function(e){401==e.status&&t.toaster.errorToastr(e.statusMessage),t.toaster.errorToastr(e.statusMessage),t.disabled=!0,t.myfilename=null}))}},t.prototype.BtnSaveUpload=function(){1==this.oType&&this.readToDataSource()},t.prototype.exportAsXLSX=function(){1==this.oType?this.getPaintedData():this.toaster.infoToastr("Select Type to Download")},t.prototype.getPaintedData=function(){var t=this;this.masterdata.getReq("","api/CatalougeMaster/GetPaintedImport?dealerID="+localStorage.getItem("dealercode")).subscribe((function(e){e&&200==e.statusCode&&(t.PaintedList=e.data,t.excelService.exportAsExcelMulFile(t.PaintedList,"PaintedParts",t.tableList))}),(function(e){401==e.status&&t.toaster.errorToastr(e.statusMessage),t.toaster.errorToastr(e.statusMessage)}))},t.prototype.filesDropped=function(t,e){1==e?1==this.oTable.id?(this.ImgData1=t.target.files[0],this.imagename=this.ImgData1.name,this.imgpath="PAINTED_SEGMENT"):2==this.oTable.id?(this.ImgData1=t.target.files[0],this.imagename=this.ImgData1.name,this.imgpath="segment_lvl1|Scooter"):3==this.oTable.id?(this.ImgData1=t.target.files,this.imagename=this.ImgData1[0].name,this.imgpath="segment_lvl2|Motorcycle"):4==this.oTable.id&&this.model?(this.ImgData1=t.target.files[0],this.imagename=this.ImgData1.name,this.imgpath="Painted|"+this.model):5==this.oTable.id&&this.model?(this.ImgData1=t.target.files,this.imagename=this.ImgData1[0].name,this.imgpath="Painted|"+this.model+"|ColorSelection"):8==this.oTable.id&&this.model?(this.ImgData1=t.target.files,this.imagename=this.ImgData1[0].name,this.imgpath="ModelColors|"+this.model+"|colors"):(this.toaster.infoToastr("No Images to Upload"),this.ImgData1=null,this.imagename=null,this.imgpath=null):console.log("no image selected !!!!!!!")},t.prototype.uploadImage=function(){var t,e=this,n=new FormData;if((t=this.ImgData1).length>1){for(var a=0;a<t.length;a++)n.append("fileUpload",t[a]);n.append("folder",this.imgpath),this.masterdata.postMultiImags(n,"api/CatalougeMaster/UploadMultileImgs").subscribe((function(t){200==t.statusCode?(e.toaster.successToastr(t.message),e.ImgData1=null,e.imgpath=null,e.imagename=null):e.toaster.errorToastr(t.message)}),(function(t){401==t.status&&e.toaster.errorToastr(t.statusMessage)}))}else{if(!this.ImgData1)return void alert("No Images to Upload");n.append("image",this.ImgData1),n.append("folder",this.imgpath),this.masterdata.postimags(n,"api/CatalougeMaster/UploadImages").subscribe((function(t){200==t.statusCode?(e.toaster.successToastr(t.message),e.ImgData1=null,e.imgpath=null,e.imagename=null):e.toaster.errorToastr(t.message)}),(function(t){401==t.status&&e.toaster.errorToastr(t.statusMessage)}))}},t.prototype.onTablChange=function(t){t&&(this.modelEnbl=4==this.oTable.id||5==this.oTable.id||8==this.oTable.id)},t.prototype.onColorchange=function(t){var e;console.log("no image selected !!!!!!!",t),e=this.paintedECData.filter((function(e){return e.COLOR_ID==t})),this.colorLstfilter=e[0]},t.prototype.UpdateSegment=function(t){1==t&&this.Editdetails({type:1,mTable:this.tableList[0].name,mlist1:{SEGMENT_ID:this.paintedEData.BSEGMENT_ID,SEGMENT_DESC:this.paintedEData.BSEGMENT_DESC,ORDER_BY:this.paintedEData.BORDER_BY,TYPE:this.paintedEData.ACATEGORY_NAME,ACTIVE:this.paintedEData.BACTIVE,IS_SUB_SEGMENT:this.paintedEData.BIS_SUB_SEGMENT,S_LEVEL:this.paintedEData.BS_LEVEL,S_LEVEL_NAME:this.paintedEData.BS_LEVEL_NAME}}),2==t&&this.Editdetails({type:1,mTable:this.tableList[1].name,mlist1:{SEGMENT_ID:this.paintedEData.BSEGMENT_ID,S_LEVEL:this.paintedEData.CS_LEVEL,S_LEVEL_NAME:this.paintedEData.CS_LEVEL_NAME,IS_SUB_SEGMENT:this.paintedEData.CIS_SUB_SEGMENT,MODEL_ID:this.paintedEData.MODEL_ID,ORDER_BY:this.paintedEData.CORDER_BY,ACTIVE:this.paintedEData.CACTIVE}}),3==t&&this.Editdetails({type:1,mTable:this.tableList[2].name,mlist1:{S_LEVEL_NAME:this.paintedEData.CS_LEVEL_NAME,S_LEVEL:this.paintedEData.DS_LEVEL,S_LEVEL_NAME_L2:this.paintedEData.DS_LEVEL_NAME_L2,IS_SUB_SEGMENT:this.paintedEData.DIS_SUB_SEGMENT,MODEL_ID:this.paintedEData.MODEL_ID,ORDER_BY:this.paintedEData.DORDER_BY,ACTIVE:this.paintedEData.DACTIVE}}),4==t&&this.Editdetails({type:1,mTable:this.tableList[3].name,mlist1:{MODEL_ID:this.colorLstfilter.MODEL_ID,COLOR_DESC:this.colorLstfilter.COLOR_DESC,COLOR_ID:this.colorLstfilter.COLOR_ID,FIG_NO:this.colorLstfilter.FIG_NO,ORDER_BY:this.colorLstfilter.ORDER_BY}})},t.prototype.Editdetails=function(t){var e=this;this.masterdata.post(t,"api/CatalougeMaster/SavePaintedModelColor").subscribe((function(t){200==t.statusCode?(e.toaster.successToastr(t.data),e.myfilename=null):e.toaster.errorToastr("Duplicate Import"),t&&401==t.statusCode&&e.toaster.errorToastr("Error on Upload"),e.disabled=!0,e.myfilename=null}),(function(t){401==t.status&&e.toaster.errorToastr(t.statusMessage),e.toaster.errorToastr(t.statusMessage),e.disabled=!0,e.myfilename=null}))},t.\u0275fac=function(e){return new(e||t)(s.Ob(s.B),s.Ob(r.g),s.Ob(r.a),s.Ob(i.f),s.Ob(d.a),s.Ob(b.a),s.Ob(p.a))},t.\u0275cmp=s.Ib({type:t,selectors:[["app-painted-popup"]],viewQuery:function(t,e){var n;1&t&&(s.Nc(I,!0),s.Nc(E,!0)),2&t&&(s.tc(n=s.cc())&&(e.fileInput=n.first),s.tc(n=s.cc())&&(e.uploadFileInput=n.first))},decls:2,vars:2,consts:[["class","pd-20",4,"ngIf"],[1,"pd-20"],[1,"example-full-width","m-10"],["name","type","id","typ",3,"ngModel","ngModelChange"],[3,"value",4,"ngFor","ngForOf"],["class","example-full-width m-10",4,"ngIf"],[4,"ngIf"],[1,"cntr"],["mat-raised-button","",1,"m-10",3,"mat-dialog-close"],["mat-raised-button","","color","primary",3,"disabled","click",4,"ngIf"],["mat-raised-button","","color","warn",3,"click",4,"ngIf"],[3,"value"],["name","table","id","tab",3,"ngModel","ngModelChange","selectionChange"],["matInput","","readonly","","multiple","multiple","accept","xlsx/*",3,"ngModel","ngModelChange"],["matSuffix","","mat-icon-button","","matTooltip","Select a file"],["type","file","id","fileUpload","name","fileUpload","multiple","multiple","accept","xlsx/*",3,"ngModel","ngModelChange","change"],["UploadFileInput",""],["matInput","","placeholder","Model","required","",3,"ngModel","ngModelChange"],["matInput","","readonly","",3,"ngModel","ngModelChange"],["type","file","id","fileUpload","name","fileUpload","multiple","multiple","accept","image/x-png,image/gif,image/jpeg",3,"ngModel","ngModelChange","change"],["mat-icon-button","","matTooltip","Select a Image",3,"click"],["mat-raised-button","","color","primary",3,"disabled","click"],["mat-raised-button","","color","warn",3,"click"],[1,"p-10"],[1,"lblcolr"],["appearance","outline"],["matInput","","placeholder","SEGMENT ID","required","true",3,"ngModel","ngModelChange"],["matInput","","placeholder","DESCRIPTION","required","true",3,"ngModel","ngModelChange"],["matInput","","placeholder","LEVEL","required","true",3,"ngModel","ngModelChange"],["matInput","","placeholder","LEVEL NAME","required","true",3,"ngModel","ngModelChange"],[1,"lblcolr",3,"checked","ngModel","ngModelChange"],["matInput","","placeholder","ORDER BY","required","true",3,"ngModel","ngModelChange"],["name","sub",3,"ngClass","ngModel","ngModelChange"],["mat-stroked-button","","color","primary",3,"click"],["matInput","","placeholder","LEVEL 1","required","true",3,"ngModel","ngModelChange"],["matInput","","placeholder","LEVEL NAME 1","required","true",3,"ngModel","ngModelChange"],["matInput","","placeholder","MODEL ID","required","true",3,"readonly","ngModel","ngModelChange"],["name","sub",3,"ngClass","selectionChange"],["value","-1"],["matInput","","placeholder","COLOR ID","required","true",3,"ngModel","ngModelChange"],["matInput","","placeholder","COLOR DESC","required","true",3,"ngModel","ngModelChange"],["matInput","","placeholder","FIG NO","required","true",3,"ngModel","ngModelChange"],["matInput","","placeholder","LEVEL 2","required","true",3,"ngModel","ngModelChange"],["matInput","","placeholder","LEVEL NAME 2","required","true",3,"ngModel","ngModelChange"]],template:function(t,e){1&t&&(s.Gc(0,P,17,9,"div",0),s.Gc(1,N,112,35,"div",0)),2&t&&(s.mc("ngIf","edit"!=e.data.upldOpt),s.Cb(1),s.mc("ngIf","edit"==e.data.upldOpt))},directives:[a.n,m.c,m.f,u.a,g.n,g.q,a.m,f.b,r.d,h.l,C.b,g.c,m.g,M.a,g.u,T.a,a.l],styles:[".myform-wrapper[_ngcontent-%COMP%]{margin:50px;width:350px}.myform-wrapper[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]{width:100%}.myform-wrapper[_ngcontent-%COMP%]   .mat-toolbar-single-row[_ngcontent-%COMP%]{height:auto!important;background:transparent}.myform-wrapper[_ngcontent-%COMP%]   .mat-toolbar-single-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:30%}"]}),t}(),G=n("+0xr"),R=n("STbY");function V(t,e){if(1&t&&(s.Ub(0,"option",27),s.Ic(1),s.Tb()),2&t){var n=e.$implicit;s.nc("value",n.CATEGORY_ID),s.Cb(1),s.Jc(n.CATEGORY_NAME)}}function k(t,e){if(1&t&&(s.Ub(0,"option",27),s.Ic(1),s.Tb()),2&t){var n=e.$implicit;s.nc("value",n.SEGMENT_ID),s.Cb(1),s.Jc(n.SEGMENT_DESC)}}function B(t,e){if(1&t&&(s.Ub(0,"option",27),s.Ic(1),s.Tb()),2&t){var n=e.$implicit;s.nc("value",n.S_LEVEL_NAME),s.Cb(1),s.Jc(n.S_LEVEL_NAME)}}function F(t,e){1&t&&(s.Ub(0,"th",28),s.Ic(1," S.No "),s.Tb())}function z(t,e){if(1&t&&(s.Ub(0,"td",29),s.Ic(1),s.Tb()),2&t){var n=e.index;s.Cb(1),s.Kc(" ",n+1," ")}}function q(t,e){1&t&&(s.Ub(0,"th",28),s.Ic(1," SEGMENT "),s.Tb())}function Y(t,e){if(1&t&&(s.Ub(0,"td",29),s.Ic(1),s.Tb()),2&t){var n=e.$implicit;s.Cb(1),s.Kc(" ",n.ACATEGORY_NAME," ")}}function K(t,e){1&t&&(s.Ub(0,"th",28),s.Ic(1," SEGEMENT"),s.Tb())}function $(t,e){if(1&t&&(s.Ub(0,"td",29),s.Ic(1),s.Tb()),2&t){var n=e.$implicit;s.Cb(1),s.Kc(" ",n.BSEGMENT_DESC," ")}}function j(t,e){1&t&&(s.Ub(0,"th",28),s.Ic(1," LEVEL 1"),s.Tb())}function H(t,e){if(1&t&&(s.Ub(0,"td",29),s.Ic(1),s.Tb()),2&t){var n=e.$implicit;s.Cb(1),s.Kc(" ",n.BS_LEVEL_NAME," ")}}function Q(t,e){1&t&&(s.Ub(0,"th",28),s.Ic(1," MODEL"),s.Tb())}function X(t,e){if(1&t&&(s.Ub(0,"td",29),s.Ic(1),s.Tb()),2&t){var n=e.$implicit;s.Cb(1),s.Kc(" ",n.MODEL_ID," ")}}function J(t,e){1&t&&(s.Ub(0,"th",28),s.Ic(1," NO. OF VARIENT"),s.Tb())}function Z(t,e){1&t&&(s.Ub(0,"td",29),s.Ic(1," 0 "),s.Tb())}function W(t,e){1&t&&(s.Ub(0,"th",28),s.Ic(1," EDIT"),s.Tb())}function tt(t,e){if(1&t){var n=s.Vb();s.Ub(0,"td",29),s.Ub(1,"button",30),s.Ub(2,"mat-icon"),s.Ic(3,"more_vert"),s.Tb(),s.Tb(),s.Ub(4,"mat-menu",31,32),s.Ub(6,"button",33),s.bc("click",(function(){s.xc(n);var t=e.$implicit;return s.fc().editData(t,1)})),s.Ic(7," Edit "),s.Tb(),s.Ub(8,"button",33),s.bc("click",(function(){s.xc(n);var t=e.$implicit;return s.fc().editData(t,1)})),s.Ic(9," Block "),s.Tb(),s.Ub(10,"button",33),s.bc("click",(function(){s.xc(n);var t=e.$implicit;return s.fc().editData(t,1)})),s.Ic(11," Delete "),s.Tb(),s.Tb(),s.Tb()}if(2&t){var a=s.uc(5);s.Cb(1),s.mc("matMenuTriggerFor",a)}}function et(t,e){1&t&&s.Pb(0,"tr",34)}function nt(t,e){1&t&&s.Pb(0,"tr",35)}var at=function(){function t(t,e,n,a){this.dialog=t,this.router=e,this.masterdata=n,this.toaster=a,this.config={},this.displayedColumns=["sNo","head","name","type","parts","model","edit"],this.dataSource=[{id:1,head:"Moped",name:"TVS XL",type:"XL 100",parts:20}]}return t.prototype.ngOnInit=function(){this.getMenuDetail()},t.prototype.createNew=function(){this.router.navigate(["/adminPainted/detail"])},t.prototype.editData=function(t,e){1==e&&this.openEditDiaLog(t),2==e&&this.openbtnDialog(t),3==e&&this.openEditDiaLog(t)},t.prototype.getMenuDetail=function(){var t=this;this.masterdata.getReq("","api/CatalougeMaster/GetPaintedMenus?dealerID="+localStorage.getItem("dealercode")).subscribe((function(e){e&&200==e.statusCode&&(t.menuList=e.data.PMenuLst,t.submenuList=e.data.pSubMenuLst,t.tempsublist=e.data.pSubMenuLst,t.MenuTypelst=e.data.PTypeMenuLst,t.temptyplst=e.data.PTypeMenuLst,t.dataSource=e.data.paintSegData,t.tempdata=e.data.paintSegData,t.colordata=e.data.colorList)}),(function(e){t.toaster.errorToastr(e.statusMessage)}))},t.prototype.onMenuChange=function(t){var e=this;this.submenuList=this.tempsublist.filter((function(n){return n.TYPE==e.menuList[t.selectedIndex-1].CATEGORY_NAME})),this.dataSource=this.tempdata.filter((function(e){return e.ACATEGORY_ID==t.value}))},t.prototype.onSubChange=function(t){var e=this;this.MenuTypelst=this.temptyplst.filter((function(e){return e.SEGMENT_ID==t})),this.dataSource=this.tempdata.filter((function(n){return n.ACATEGORY_ID==e.catid&&n.BSEGMENT_ID==t}))},t.prototype.onTypChange=function(t){var e=this;this.dataSource=this.tempdata.filter((function(n){return n.ACATEGORY_ID==e.catid&&n.BSEGMENT_ID==e.submenuId&&n.CS_LEVEL_NAME==t}))},t.prototype.openbtnDialog=function(t){this.dialog.open(w,{data:{upldOpt:t}}).afterClosed().subscribe((function(t){}))},t.prototype.getPaintedDetail=function(t){var e=this;this.masterdata.getReq("","api/CatalougeMaster/GetPaintedDataByModel?modelID="+t).subscribe((function(t){t&&200==t.statusCode&&(e.PaintedData=t.data,e.PaintedData&&e.openDialogue())}),(function(t){e.toaster.errorToastr(t.statusMessage)}))},t.prototype.openEditDiaLog=function(t){this.PaintedData=this.tempdata.filter((function(e){return e.MODEL_ID==t.MODEL_ID})),this.colorData=this.colordata.filter((function(e){return e.MODEL_ID==t.MODEL_ID})),this.PaintedData&&this.openDialogue()},t.prototype.openDialogue=function(){this.dialog.open(w,{data:{upldOpt:"edit",data:this.PaintedData,colData:this.colorData},width:"700",height:"500"}).afterClosed().subscribe((function(t){}))},t.\u0275fac=function(e){return new(e||t)(s.Ob(r.b),s.Ob(i.f),s.Ob(d.a),s.Ob(b.a))},t.\u0275cmp=s.Ib({type:t,selectors:[["app-admin-painted-home"]],viewQuery:function(t,e){var n;1&t&&s.Nc(l.b,!0),2&t&&s.tc(n=s.cc())&&(e.directiveScroll=n.first)},decls:64,vars:9,consts:[[1,"disBtn","headDisp"],[1,"flx"],["mat-stroked-button","","color","primary",1,"h-45","r-15","pr-10",3,"click"],[1,"upload-btn-wrapper","wrChange"],[1,"pa-30","srlDiv","mat-elevation-z8",3,"perfectScrollbar"],[1,"dispFlx","mobCol"],[1,"dispCol","mpb-10"],["for","cat"],["name","cat","id","cat",1,"stCls",3,"ngModel","ngModelChange","change"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","mod"],["name","mod","id","submenu",1,"stCls",3,"ngModel","ngModelChange","change"],["name","mod","id","typ",1,"stCls",3,"change"],[1,"nu-table-body"],["mat-table","",1,"mat-elevation-z8","tabWith",3,"dataSource"],["matColumnDef","sNo"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","head"],["matColumnDef","name"],["matColumnDef","type"],["matColumnDef","model"],["matColumnDef","parts"],["matColumnDef","edit"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"value"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","aria-label","Example icon-button with a menu",3,"matMenuTriggerFor"],["xPosition","after"],["menu","matMenu"],["mat-menu-item","",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(s.Ub(0,"div"),s.Ub(1,"div",0),s.Ub(2,"h3"),s.Ic(3,"PAINTED LIST"),s.Tb(),s.Ub(4,"div",1),s.Ub(5,"button",2),s.bc("click",(function(){return e.openbtnDialog("image")})),s.Ub(6,"mat-icon"),s.Ic(7,"download"),s.Tb(),s.Ic(8," ImgsUpload"),s.Tb(),s.Ub(9,"div",3),s.Ub(10,"button",2),s.bc("click",(function(){return e.openbtnDialog("file")})),s.Ub(11,"mat-icon"),s.Ic(12,"upload"),s.Tb(),s.Ic(13," Exp/Imp"),s.Tb(),s.Tb(),s.Ub(14,"button",2),s.bc("click",(function(){return e.createNew()})),s.Ub(15,"mat-icon"),s.Ic(16,"add"),s.Tb(),s.Ic(17,"Create New"),s.Tb(),s.Tb(),s.Tb(),s.Ub(18,"div",4),s.Ub(19,"div",5),s.Ub(20,"div",6),s.Ub(21,"label",7),s.Ic(22,"TYPE"),s.Tb(),s.Ub(23,"select",8),s.bc("ngModelChange",(function(t){return e.catid=t}))("change",(function(t){return e.onMenuChange(t.target)})),s.Ub(24,"option",9),s.Ic(25,"SELECT"),s.Tb(),s.Gc(26,V,2,2,"option",10),s.Tb(),s.Tb(),s.Ub(27,"div",6),s.Ub(28,"label",11),s.Ic(29,"SEGMENT"),s.Tb(),s.Ub(30,"select",12),s.bc("ngModelChange",(function(t){return e.submenuId=t}))("change",(function(t){return e.onSubChange(t.target.value)})),s.Ub(31,"option",9),s.Ic(32,"SELECT"),s.Tb(),s.Gc(33,k,2,2,"option",10),s.Tb(),s.Tb(),s.Ub(34,"div",6),s.Ub(35,"label",11),s.Ic(36,"LEVEL 1"),s.Tb(),s.Ub(37,"select",13),s.bc("change",(function(t){return e.onTypChange(t.target.value)})),s.Gc(38,B,2,2,"option",10),s.Tb(),s.Tb(),s.Tb(),s.Ub(39,"div",14),s.Ub(40,"table",15),s.Sb(41,16),s.Gc(42,F,2,0,"th",17),s.Gc(43,z,2,1,"td",18),s.Rb(),s.Sb(44,19),s.Gc(45,q,2,0,"th",17),s.Gc(46,Y,2,1,"td",18),s.Rb(),s.Sb(47,20),s.Gc(48,K,2,0,"th",17),s.Gc(49,$,2,1,"td",18),s.Rb(),s.Sb(50,21),s.Gc(51,j,2,0,"th",17),s.Gc(52,H,2,1,"td",18),s.Rb(),s.Sb(53,22),s.Gc(54,Q,2,0,"th",17),s.Gc(55,X,2,1,"td",18),s.Rb(),s.Sb(56,23),s.Gc(57,J,2,0,"th",17),s.Gc(58,Z,2,0,"td",18),s.Rb(),s.Sb(59,24),s.Gc(60,W,2,0,"th",17),s.Gc(61,tt,12,1,"td",18),s.Rb(),s.Gc(62,et,1,0,"tr",25),s.Gc(63,nt,1,0,"tr",26),s.Tb(),s.Tb(),s.Tb(),s.Tb()),2&t&&(s.Cb(18),s.mc("perfectScrollbar",e.config),s.Cb(5),s.mc("ngModel",e.catid),s.Cb(3),s.mc("ngForOf",e.menuList),s.Cb(4),s.mc("ngModel",e.submenuId),s.Cb(3),s.mc("ngForOf",e.submenuList),s.Cb(5),s.mc("ngForOf",e.MenuTypelst),s.Cb(2),s.mc("dataSource",e.dataSource),s.Cb(22),s.mc("matHeaderRowDef",e.displayedColumns),s.Cb(1),s.mc("matRowDefColumns",e.displayedColumns))},directives:[f.b,M.a,l.b,g.v,g.n,g.q,g.r,g.x,a.m,G.j,G.c,G.e,G.b,G.g,G.i,G.d,G.a,R.c,R.d,R.a,G.f,G.h],styles:[".nu-table-body[_ngcontent-%COMP%]{overflow-y:auto;max-height:535px}.r-15[_ngcontent-%COMP%]{position:relative;right:15px;height:40px}.h-45[_ngcontent-%COMP%]{height:38px}tr.mat-header-row[_ngcontent-%COMP%], tr.mat-row[_ngcontent-%COMP%]{border:1px solid #e7e7e7;height:15px!important;font-family:Segoe UI,Tahoma,Geneva,Verdana,sans-serif}tr.mat-header-row[_ngcontent-%COMP%]{background-color:#adbecb}.stCls[_ngcontent-%COMP%]{height:25px;border-radius:15px;border-color:rgba(49,106,211,.87)}.mat-footer-cell[_ngcontent-%COMP%],   .mat-cell{font-size:11px!important}tr.mat-row[_ngcontent-%COMP%]{border:1px solid #e7e7e7;height:4px!important}",".pa-30[_ngcontent-%COMP%]{margin:7px}.pa-30[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}.dispCol[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:15%}.dispCol[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{height:25px}.pr-10[_ngcontent-%COMP%]{margin-right:10px;border:1px solid #61619d!important}.dispFlx[_ngcontent-%COMP%]{display:flex;justify-content:space-around!important;background:#fff;padding:5px;border-bottom:1px solid rgba(232,229,229,.63)}.headDisp[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:7px}.btn[_ngcontent-%COMP%]{border:2px solid grey;color:grey;background-color:#fff;padding:8px 20px;border-radius:8px;font-size:20px;font-weight:700}.upload-btn-wrapper[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{font-size:100px;position:absolute;left:0;top:0;opacity:0}.wrChange[_ngcontent-%COMP%]{font-size:20px!important;width:130px!important;position:relative!important;height:45px}.h-45[_ngcontent-%COMP%]{height:38px}.pd[_ngcontent-%COMP%]{padding:4px 10px!important}.r-15[_ngcontent-%COMP%]{position:relative;right:15px;height:40px}.nu-table-body[_ngcontent-%COMP%]{overflow-y:auto;max-height:442px}.stCls[_ngcontent-%COMP%]{height:25px;border-radius:5px;border-color:rgba(49,106,211,.87)}.srlDiv[_ngcontent-%COMP%]{height:calc(100% - 100px);position:relative;background-repeat:no-repeat!important}td.mat-cell[_ngcontent-%COMP%], td.mat-footer-cell[_ngcontent-%COMP%]{border-bottom-width:1px;border-bottom-style:solid;font-size:10px!important}  .mat-icon-button{height:33px!important}tr.mat-header-row[_ngcontent-%COMP%]{height:30px;background-color:#adbecb!important}tr.mat-footer-row[_ngcontent-%COMP%], tr.mat-row[_ngcontent-%COMP%]{height:36px}"]}),t}(),it=n("ht4G"),ot=n("fvNU"),lt=n("tk/3");function rt(t,e){if(1&t&&(s.Ub(0,"mat-option",14),s.Ic(1),s.Tb()),2&t){var n=e.$implicit;s.mc("value",n),s.Cb(1),s.Kc(" ",n.CATEGORY_NAME," ")}}function ct(t,e){if(1&t&&(s.Ub(0,"mat-option",14),s.Ic(1),s.Tb()),2&t){var n=e.$implicit;s.mc("value",n),s.Cb(1),s.Kc(" ",n.SEGMENT_DESC," ")}}function st(t,e){if(1&t&&(s.Ub(0,"mat-option",14),s.Ic(1),s.Pb(2,"img",17),s.Tb()),2&t){var n=e.$implicit;s.mc("value",n),s.Cb(1),s.Kc(" ",n.S_LEVEL_NAME," "),s.Cb(1),s.nc("src",n.IMAGE,s.zc)}}function dt(t,e){if(1&t){var n=s.Vb();s.Ub(0,"div",8),s.Ub(1,"mat-form-field",4),s.Ub(2,"mat-label",5),s.Ic(3,"LEVEL 1"),s.Tb(),s.Ub(4,"mat-select",15),s.bc("ngModelChange",(function(t){return s.xc(n),s.fc(2).menuType=t}))("selectionChange",(function(t){return s.xc(n),s.fc(2).onSubTypeChange(t)})),s.Ub(5,"mat-option",16),s.Ic(6,"Add New"),s.Tb(),s.Gc(7,st,3,3,"mat-option",7),s.Tb(),s.Tb(),s.Tb()}if(2&t){var a=s.fc(2);s.Cb(4),s.mc("ngModel",a.menuType)("ngClass",a.selected),s.Cb(3),s.mc("ngForOf",a.MenuTypelst)}}function bt(t,e){if(1&t&&(s.Ub(0,"mat-option",14),s.Ic(1),s.Pb(2,"img",17),s.Tb()),2&t){var n=e.$implicit;s.mc("value",n),s.Cb(1),s.Kc(" ",n.S_LEVEL_NAME_L2," "),s.Cb(1),s.nc("src",n.IMAGE,s.zc)}}function pt(t,e){if(1&t){var n=s.Vb();s.Ub(0,"div",8),s.Ub(1,"mat-form-field",4),s.Ub(2,"mat-label",5),s.Ic(3,"LEVEL 2"),s.Tb(),s.Ub(4,"mat-select",15),s.bc("ngModelChange",(function(t){return s.xc(n),s.fc(2).segType=t}))("selectionChange",(function(t){return s.xc(n),s.fc(2).getLevel2ModelColor(t.value.S_LEVEL,t.value.S_LEVEL_NAME_L2)})),s.Ub(5,"mat-option",16),s.Ic(6,"Add New"),s.Tb(),s.Gc(7,bt,3,3,"mat-option",7),s.Tb(),s.Tb(),s.Tb()}if(2&t){var a=s.fc(2);s.Cb(4),s.mc("ngModel",a.segType)("ngClass",a.selected),s.Cb(3),s.mc("ngForOf",a.SegmentLst)}}function mt(t,e){if(1&t&&(s.Ub(0,"mat-option",14),s.Ic(1),s.Pb(2,"img",17),s.Tb()),2&t){var n=e.$implicit;s.mc("value",n),s.Cb(1),s.Kc(" ",n.COLOR_DESC," "),s.Cb(1),s.nc("src",n.IMAGE_LINK,s.zc)}}function ut(t,e){if(1&t){var n=s.Vb();s.Ub(0,"div",8),s.Ub(1,"mat-form-field",4),s.Ub(2,"mat-label",5),s.Ic(3,"COLOR"),s.Tb(),s.Ub(4,"mat-select",18),s.bc("ngModelChange",(function(t){return s.xc(n),s.fc(2).subMenu=t}))("selectionChange",(function(t){return s.xc(n),s.fc(2).onModelSelect(t)})),s.Ub(5,"mat-option",16),s.Ic(6,"Add New"),s.Tb(),s.Gc(7,mt,3,3,"mat-option",7),s.Tb(),s.Tb(),s.Tb()}if(2&t){var a=s.fc(2);s.Cb(4),s.mc("ngModel",a.subMenu)("ngClass",a.selected),s.Cb(3),s.mc("ngForOf",a.ColorList)}}function gt(t,e){if(1&t){var n=s.Vb();s.Ub(0,"mat-form-field",21),s.Ub(1,"mat-label",5),s.Ic(2,"Level Name"),s.Tb(),s.Ub(3,"input",36),s.bc("ngModelChange",(function(t){return s.xc(n),s.fc(3).sLevel2=t})),s.Tb(),s.Tb()}if(2&t){var a=s.fc(3);s.Cb(3),s.mc("ngModel",a.sLevel2)}}function ft(t,e){if(1&t){var n=s.Vb();s.Ub(0,"div",26),s.Ub(1,"button",37),s.bc("click",(function(){return s.xc(n),s.fc(3).onBtnImgClick()})),s.Ub(2,"mat-icon"),s.Ic(3,"upload"),s.Tb(),s.Ic(4," Images "),s.Tb(),s.Tb()}}function ht(t,e){1&t&&(s.Ub(0,"button",38),s.Ic(1,"Browse Segment file"),s.Tb())}function Ct(t,e){if(1&t&&s.Pb(0,"img",39),2&t){var n=s.fc(3);s.mc("src",n.imageUrl,s.zc)}}function Mt(t,e){1&t&&(s.Ub(0,"button",38),s.Ic(1,"Browse Model file"),s.Tb())}function Tt(t,e){if(1&t&&s.Pb(0,"img",39),2&t){var n=s.fc(3);s.mc("src",n.imgVar,s.zc)}}function It(t,e){if(1&t){var n=s.Vb();s.Ub(0,"div",19),s.Ub(1,"div"),s.Ub(2,"mat-label",5),s.Ic(3,"New Model and Segment"),s.Tb(),s.Tb(),s.Ub(4,"div",20),s.Ub(5,"mat-form-field",21),s.Ub(6,"mat-label",5),s.Ic(7,"Level Name"),s.Tb(),s.Ub(8,"input",22),s.bc("ngModelChange",(function(t){return s.xc(n),s.fc(2).levelName=t})),s.Tb(),s.Tb(),s.Ub(9,"mat-form-field",21),s.Ub(10,"mat-label",5),s.Ic(11,"Model ID"),s.Tb(),s.Ub(12,"input",23),s.bc("ngModelChange",(function(t){return s.xc(n),s.fc(2).ModelID=t})),s.Tb(),s.Tb(),s.Gc(13,gt,4,1,"mat-form-field",24),s.Ub(14,"mat-checkbox",25),s.bc("ngModelChange",(function(t){return s.xc(n),s.fc(2).checked=t})),s.Ic(15,"Is Sub Segment"),s.Tb(),s.Ub(16,"div",26),s.Ub(17,"button",27),s.bc("click",(function(){return s.xc(n),s.fc(2).AddModels()})),s.Ub(18,"mat-icon"),s.Ic(19,"add"),s.Tb(),s.Ic(20," Add "),s.Tb(),s.Tb(),s.Gc(21,ft,5,0,"div",28),s.Tb(),s.Ub(22,"div",29),s.Ub(23,"div",30),s.Gc(24,ht,2,0,"button",31),s.Ub(25,"input",32,33),s.bc("change",(function(t){return s.xc(n),s.fc(2).handleFileInput(t.target.files)})),s.Tb(),s.Gc(27,Ct,1,1,"img",34),s.Tb(),s.Ub(28,"div",35),s.Gc(29,Mt,2,0,"button",31),s.Ub(30,"input",32,33),s.bc("change",(function(t){return s.xc(n),s.fc(2).filesDropped(t.target.files)})),s.Tb(),s.Gc(32,Tt,1,1,"img",34),s.Tb(),s.Tb(),s.Tb()}if(2&t){var a=s.fc(2);s.Cb(8),s.mc("ngModel",a.levelName),s.Cb(4),s.mc("ngModel",a.ModelID),s.Cb(1),s.mc("ngIf",a.checked),s.Cb(1),s.mc("checked",a.checked)("ngModel",a.checked),s.Cb(7),s.mc("ngIf",a.imageUrl&&a.imgVar),s.Cb(3),s.mc("ngIf",!a.imageUrl),s.Cb(3),s.mc("ngIf",a.imageUrl),s.Cb(2),s.mc("ngIf",!a.imgVar),s.Cb(3),s.mc("ngIf",a.imgVar)}}function Et(t,e){if(1&t){var n=s.Vb();s.Ub(0,"div",26),s.Ub(1,"button",37),s.bc("click",(function(){return s.xc(n),s.fc(3).onBtnImgClick()})),s.Ub(2,"mat-icon"),s.Ic(3,"upload"),s.Tb(),s.Ic(4," Images "),s.Tb(),s.Tb()}}function Dt(t,e){if(1&t&&s.Pb(0,"img",46),2&t){var n=s.fc(3);s.mc("src",n.cIconImg,s.zc)}}function vt(t,e){1&t&&(s.Ub(0,"button",38),s.Ic(1,"Browse Vehicle"),s.Tb())}function _t(t,e){if(1&t&&s.Pb(0,"img",39),2&t){var n=s.fc(3);s.mc("src",n.Paintimage,s.zc)}}function Ut(t,e){if(1&t){var n=s.Vb();s.Ub(0,"div",40),s.Ub(1,"div"),s.Ub(2,"mat-label",5),s.Ic(3,"Add Color Details "),s.Tb(),s.Tb(),s.Ub(4,"div",20),s.Ub(5,"mat-form-field",21),s.Ub(6,"mat-label",5),s.Ic(7,"Model ID"),s.Tb(),s.Ub(8,"input",41),s.bc("ngModelChange",(function(t){return s.xc(n),s.fc(2).AddColorData.cModelId=t})),s.Tb(),s.Tb(),s.Ub(9,"mat-form-field",21),s.Ub(10,"mat-label",5),s.Ic(11,"Color ID"),s.Tb(),s.Ub(12,"input",42),s.bc("ngModelChange",(function(t){return s.xc(n),s.fc(2).AddColorData.colorID=t})),s.Tb(),s.Tb(),s.Ub(13,"mat-form-field",21),s.Ub(14,"mat-label",5),s.Ic(15,"Color Name"),s.Tb(),s.Ub(16,"input",43),s.bc("ngModelChange",(function(t){return s.xc(n),s.fc(2).AddColorData.colorNam=t})),s.Tb(),s.Tb(),s.Ub(17,"div",26),s.Ub(18,"button",44),s.bc("click",(function(){return s.xc(n),s.fc(2).AddColors()})),s.Ub(19,"mat-icon"),s.Ic(20,"add"),s.Tb(),s.Ic(21," AddColors "),s.Tb(),s.Tb(),s.Gc(22,Et,5,0,"div",28),s.Tb(),s.Ub(23,"div"),s.Ub(24,"div",29),s.Ub(25,"div",30),s.Ub(26,"button",38),s.Ic(27,"Browse a Color Icon "),s.Tb(),s.Ub(28,"input",32,33),s.bc("change",(function(t){return s.xc(n),s.fc(2).colIconUpload(t.target.files)})),s.Tb(),s.Gc(30,Dt,1,1,"img",45),s.Tb(),s.Ub(31,"div",35),s.Gc(32,vt,2,0,"button",31),s.Ub(33,"input",32,33),s.bc("change",(function(t){return s.xc(n),s.fc(2).colVehUpload(t.target.files)})),s.Tb(),s.Gc(35,_t,1,1,"img",34),s.Tb(),s.Tb(),s.Tb(),s.Tb()}if(2&t){var a=s.fc(2);s.Cb(8),s.mc("ngModel",a.AddColorData.cModelId),s.Cb(4),s.mc("ngModel",a.AddColorData.colorID),s.Cb(4),s.mc("ngModel",a.AddColorData.colorNam),s.Cb(2),s.mc("disabled",a.disable),s.Cb(4),s.mc("ngIf",a.imageUrl),s.Cb(8),s.mc("ngIf",a.cIconImg),s.Cb(2),s.mc("ngIf",!a.imgVar),s.Cb(3),s.mc("ngIf",a.Paintimage)}}function Ot(t,e){if(1&t){var n=s.Vb();s.Ub(0,"div"),s.Ub(1,"h3",1),s.Ic(2,"Select Painted Details"),s.Tb(),s.Ub(3,"div",2),s.Ub(4,"div",3),s.Ub(5,"mat-form-field",4),s.Ub(6,"mat-label",5),s.Ic(7,"SEGMENT"),s.Tb(),s.Ub(8,"mat-select",6),s.bc("ngModelChange",(function(t){return s.xc(n),s.fc().mainMenu=t}))("selectionChange",(function(t){return s.xc(n),s.fc().onMenuChange(t)})),s.Gc(9,rt,2,2,"mat-option",7),s.Tb(),s.Tb(),s.Tb(),s.Ub(10,"div",8),s.Ub(11,"mat-form-field",4),s.Ub(12,"mat-label",5),s.Ic(13,"MODEL"),s.Tb(),s.Ub(14,"mat-select",9),s.bc("ngModelChange",(function(t){return s.xc(n),s.fc().subMenu1=t}))("selectionChange",(function(t){return s.xc(n),s.fc().onSubChange(t)})),s.Gc(15,ct,2,2,"mat-option",7),s.Tb(),s.Tb(),s.Tb(),s.Gc(16,dt,8,3,"div",10),s.Gc(17,pt,8,3,"div",10),s.Gc(18,ut,8,3,"div",10),s.Tb(),s.Ub(19,"div",11),s.Gc(20,It,33,10,"div",12),s.Gc(21,Ut,36,8,"div",13),s.Tb(),s.Tb()}if(2&t){var a=s.fc();s.Cb(8),s.mc("ngModel",a.mainMenu),s.Cb(1),s.mc("ngForOf",a.menuListArry),s.Cb(5),s.mc("ngModel",a.subMenu1),s.Cb(1),s.mc("ngForOf",a.subMenuList),s.Cb(1),s.mc("ngIf",a.subMenu1.IS_SUB_SEGMENT),s.Cb(1),s.mc("ngIf",a.menuType.IS_SUB_SEGMENT),s.Cb(1),s.mc("ngIf",-1!=a.menuType),s.Cb(2),s.mc("ngIf",!a.addColor),s.Cb(1),s.mc("ngIf",a.addColor)}}function xt(t,e){if(1&t){var n=s.Vb();s.Ub(0,"div"),s.Ub(1,"app-cat-subparts",47),s.bc("statusEvent",(function(t){return s.xc(n),s.fc().changeStatus(t)})),s.Tb(),s.Tb()}}var St=function(){function t(t,e,n,a,i,o){this.dialog=t,this.router=e,this.masterdata=n,this.toaster=a,this.commonservice=i,this.http=o,this.files=[],this.files1=[],this.pointSize=7,this.Levels=[{id:1,level:"L"},{id:2,level:"L1"},{id:3,level:"L2"}],this.mainMenuList=[{id:1,name:"Moped"},{id:2,name:"Scooter"},{id:3,name:"Scooty"},{id:4,name:"Motorcycle"},{id:5,name:"Painted Parts"}],this.subMenuList=[{id:1,name:"TVS XL"},{id:2,name:"TVS XL-100"}],this.menuListArry=[],this.mainMenu={id:"1",name:"painted",subMenu:""},this.subMenu={id:"",name:"",subMenu:""},this.menuType={},this.quardinatesArray=[],this.paintedarr={img:"",color:[]},this.pageSta=!0,this.partsData=[],this.checked=!1,this.AddModel={sLevel:null,sLevelNam:null,sLevelNam2:null,model:null,isSubSeg:!1,LevelTyp:null,mImg:null,sImg:null},this.AddColorData={cModelId:null,colorID:null,colorNam:null,colorImg:null},this.subMenu1={}}return t.prototype.ngOnInit=function(){this.getMenuList()},t.prototype.filesDropped=function(t){var e=this;if(t.item(0)){this.tempUrl=t.item(0);var n=new FileReader;n.onload=function(t){e.imgVar=t.target.result},n.readAsDataURL(this.tempUrl)}},t.prototype.colVehUpload=function(t){var e=this;this.Pimage=t.item(0);var n=new FileReader;n.onload=function(t){e.Paintimage=t.target.result},n.readAsDataURL(this.Pimage)},t.prototype.colIconUpload=function(t){var e=this;this.cIcon=t.item(0);var n=new FileReader;n.onload=function(t){e.cIconImg=t.target.result},n.readAsDataURL(this.cIcon)},t.prototype.handleFileInput=function(t){var e=this;this.Segfile=t.item(0);var n=new FileReader;n.onload=function(t){e.imageUrl=t.target.result},n.readAsDataURL(this.Segfile)},t.prototype.onFileChanged=function(t){},t.prototype.getPosition=function(t,e){this.element=this.root,this.canvas=document.getElementById("canvas"),this.ctx=this.canvas.getContext("2d")},t.prototype.changeStatus=function(t){var e=this;this.pageSta=!0,"1"==t&&setTimeout((function(){e.element=e.root,e.canvas=document.getElementById("canvas"),e.ctx=e.canvas.getContext("2d")}),1e3)},t.prototype.moreColor=function(){this.addColor="Color",this.AddColorData.cModelId=this.ModelID},t.prototype.onFileChange=function(t,e){var n=this;if(this.userFile=t.target.files[0],this.imageSelected=this.userFile.name,t.target.files&&t.target.files[0]){var a=new FileReader;a.onload=function(t){console.log("the color",n.paintedarr.color,e),n.paintedarr.color[e].url=t.target.result},a.readAsDataURL(t.target.files[0])}},t.prototype.addPart=function(){this.router.navigate(["/adminCat/sub"])},t.prototype.getMenuDetail=function(){var t=this;this.masterdata.getReq("","api/Catalouge/GetMenuCategory?dealerID="+localStorage.getItem("dealercode")).subscribe((function(e){e&&200==e.statusCode&&(t.mainMenuList=e.data.filter((function(t){return"link"==t.type})))}),(function(e){t.toaster.errorToastr(e.statusMessage)}))},t.prototype.getMenuList=function(){var t=this;this.masterdata.getReq("","api/CatalougeMaster/GetPaintedMenus?dealerID="+localStorage.getItem("dealercode")).subscribe((function(e){e&&200==e.statusCode&&(t.menuListArry=e.data.PMenuLst,t.subMenuList=e.data.pSubMenuLst,t.tempsublist=e.data.pSubMenuLst,t.MenuTypelst=e.data.PTypeMenuLst,t.SegmentLst=e.data.pSegment2Lst,t.segtempLst=e.data.pSegment2Lst,t.temptyplst=e.data.PTypeMenuLst)}),(function(e){t.toaster.errorToastr(e.statusMessage)}))},t.prototype.onMenuChange=function(t){this.subMenuList=this.tempsublist.filter((function(e){return e.TYPE==t.value.CATEGORY_NAME}))},t.prototype.onSubChange=function(t){0==t.value.IS_SUB_SEGMENT?(this.getColorandModel(t.value.S_LEVEL,t.value.SEGMENT_ID),this.checked=t.value.IS_SUB_SEGMENT,this.levelName=t.value.SEGMENT_ID,this.ModelID=t.value.MODEL_ID,this.addColor="",this.AddColorData.cModelId="",this.imageUrl=t.value.IMAGE,this.myLevel="PAINTED_SEGMENT"):this.MenuTypelst=this.temptyplst.filter((function(e){return e.SEGMENT_ID==t.value.SEGMENT_ID}))},t.prototype.onModelSelect=function(t){"-1"==t.value?(this.addColor="Color",this.AddColorData.cModelId=this.ModelID,this.imageUrl="",this.imgVar=""):this.router.navigate(["/adminPainted/subparts",t.value],{skipLocationChange:!0})},t.prototype.openDialog=function(t,e,n){var a=this;"AddModel"==n?this.dialog.open(it.a,{data:{x:t,y:e,type:"AddModel",series:this.subMenu.SERIES,isEdt:"N",modelId:n.MODEL_ID}}).afterClosed().subscribe((function(t){})):this.dialog.open(it.a,{data:{x:t,y:e,type:"main",series:n.SERIES,isEdt:"N",modelId:n.MODEL_ID}}).afterClosed().subscribe((function(i){i&&(i.series||(i.series=n.SERIES),a.router.navigate(["/adminCat/sub",{x:t,y:e,sId:i.series}]),a.curQur={x:t,y:e},a.pageSta=!1)}))},t.prototype.onSubTypeChange=function(t){if(-1==t.value)return this.imgVar="",this.ColorList=[],this.levelName="",this.ModelID="",this.checked=!1,void(this.imageUrl="");if(1==t.value.IS_SUB_SEGMENT)this.SegmentLst=this.segtempLst.filter((function(e){return e.S_LEVEL_NAME==t.value.S_LEVEL_NAME})),this.checked=t.value.IS_SUB_SEGMENT,this.levelName=t.value.S_LEVEL_NAME,this.ModelID=t.value.MODEL_ID,this.addColor="",this.AddColorData.cModelId="",this.imgVar="",this.ColorList=[];else{this.getColorandModel(t.value.S_LEVEL,t.value.S_LEVEL_NAME),this.checked=t.value.IS_SUB_SEGMENT,this.levelName=t.value.S_LEVEL_NAME,this.ModelID=t.value.MODEL_ID,this.addColor="",this.AddColorData.cModelId="",this.imageUrl=t.value.IMAGE;var e=this.mainMenu.STATE.charAt(0).toUpperCase()+this.mainMenu.STATE.substr(1).toLowerCase();this.myLevel="segment_lvl1|"+e}},t.prototype.getLevel2ModelColor=function(t,e){this.myLevel="segment_lvl2|Motorcycle",this.sLevel2=e,this.levelName=this.menuType.S_LEVEL_NAME,this.ModelID=this.segType.MODEL_ID,this.getColorandModel(t,e)},t.prototype.getColorandModel=function(t,e){var n=this;"L1"==t&&(this.checked=!1,this.levelName=this.menuType.S_LEVEL_NAME,this.ModelID=this.menuType.MODEL_ID),this.masterdata.getReq("","api/Catalouge/GetPaintedModelandColors?S_LEVEL="+t+"&S_LEVEL_NAME="+e).subscribe((function(t){t&&200==t.statusCode&&(null!=t.data.IMAGE_LINK?(n.imgVar=t.data.IMAGE_LINK,n.ColorList=t.data.colors,n.paintedarr=t.data.colors):(n.imgVar="",n.imageUrl="",n.ColorList=[]))}),(function(t){n.toaster.errorToastr(t.statusMessage)}))},t.prototype.AddModels=function(){var t=this;if(this.menuType){if(null==this.levelName||null==this.levelName)return void this.toaster.warningToastr("Enter the Level details");if(null==this.ModelID||null==this.ModelID)return void this.toaster.warningToastr("Enter the Model Details");if(null==this.subMenu1||null==this.subMenu1)return void this.toaster.warningToastr("Select the Menu type");1==this.menuType.IS_SUB_SEGMENT?(this.AddModel.sLevelNam=this.menuType.S_LEVEL_NAME,this.AddModel.sLevelNam2=this.levelName,this.AddModel.isSubSeg=!1,this.AddModel.LevelTyp="L2",this.AddModel.mImg=this.tempUrl.name,this.AddModel.sImg=null==this.fileToUpload||null==this.fileToUpload?null:this.fileToUpload.name,this.AddModel.model=this.ModelID,this.AddModel.SegID=this.subMenu1.SEGMENT_ID):(this.AddModel.sLevelNam=this.levelName,this.AddModel.sLevelNam2=this.sLevel2,this.AddModel.isSubSeg=this.checked,this.AddModel.LevelTyp="L1",this.AddModel.mImg=this.tempUrl.name,this.AddModel.sImg=null==this.fileToUpload||null==this.fileToUpload?null:this.fileToUpload.name,this.AddModel.model=this.ModelID,this.AddModel.SegID=this.subMenu1.SEGMENT_ID),this.masterdata.post(this.AddModel,"api/CatalougeMaster/AddandUpdatePaintModel").subscribe((function(e){200==e.statusCode?(t.toaster.successToastr(e.data),t.AddModel=null):t.toaster.errorToastr(e.data)}),(function(e){t.toaster.errorToastr(e.statusMessage)}))}},t.prototype.AddColors=function(){var t=this;if(this.AddColorData){if(null==this.AddColorData.cModelId||null==this.AddColorData.cModelId)return void this.toaster.warningToastr("select Model from Level ");if(null==this.AddColorData.colorID||null==this.AddColorData.colorID)return void this.toaster.warningToastr("Enter Color Details");if(null==this.AddColorData.colorNam||null==this.AddColorData.colorNam)return void this.toaster.warningToastr("Enter Color Details");if(null==this.imageUrl||null==this.imageUrl)return void this.toaster.warningToastr("Select Color Image");if(!(null!=this.cIcon&&null!=this.cIcon||null!=this.Pimage&&null!=this.Pimage))return void this.toaster.warningToastr("Select Color images");this.AddColorData.colorImg=this.cIcon.name,this.AddColorData.Modelimg=null,this.masterdata.post(this.AddColorData,"api/CatalougeMaster/AddandUpdateModelColor").subscribe((function(e){200==e.statusCode?(t.onBtnColImgClk(),t.imageUrl=null,t.AddColorData=null,t.colbtndisable=!0,t.cIconImg=null,t.Paintimage=null):t.toaster.errorToastr(e.message)}),(function(e){t.toaster.errorToastr(e.statusMessage)}))}},t.prototype.onBtnImgClick=function(){null!=this.Segfile&&null!=this.Segfile?null!=this.tempUrl&&null!=this.tempUrl?null!=this.ModelID&&null!=this.ModelID?(this.uploadImage(this.Segfile,"Painted|"+this.ModelID),this.uploadImage(this.tempUrl,this.myLevel),this.Segfile=null,this.tempUrl=null):this.toaster.infoToastr("Enter the Model Id"):this.toaster.infoToastr("Edit or select the model Image"):this.toaster.infoToastr("Edit or select the segment Image")},t.prototype.onBtnColImgClk=function(){if(null==this.cIcon||null==this.cIcon)return this.toaster.infoToastr("Select Color Icon"),void(this.colbtndisable=!1);if(null==this.Pimage||null==this.Pimage)return this.toaster.infoToastr("Select Color Vehicle"),void(this.colbtndisable=!1);var t="ModelColors|"+this.AddColorData.cModelId+"|colors";this.uploadImage(this.cIcon,"Painted|"+this.AddColorData.cModelId+"|ColorSelection"),this.uploadImage(this.Pimage,t)},t.prototype.uploadImage=function(t,e){var n=this,a=new FormData;a.append("image",t),a.append("folder",e),this.masterdata.postimags(a,"api/CatalougeMaster/UploadImages").subscribe((function(t){200==t.statusCode?n.toaster.successToastr(t.message):n.toaster.errorToastr(t.message)}),(function(t){401==t.status&&n.toaster.errorToastr(t.statusMessage)}))},t.\u0275fac=function(e){return new(e||t)(s.Ob(r.b),s.Ob(i.f),s.Ob(d.a),s.Ob(b.a),s.Ob(ot.a),s.Ob(lt.b))},t.\u0275cmp=s.Ib({type:t,selectors:[["app-painted-details"]],decls:2,vars:2,consts:[[4,"ngIf"],[1,"p-10"],[1,"flx","pd"],[1,""],["appearance","fill"],[1,"lblcolr"],["name","main",3,"ngModel","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],[1,"pl-40"],["name","sub",3,"ngModel","ngModelChange","selectionChange"],["class","pl-40",4,"ngIf"],[1,"flx"],["class","col-md-6 col-sm-12 p-10",4,"ngIf"],["class","col-md-6 col-sm-12 p-30",4,"ngIf"],[3,"value"],["name","sub",3,"ngModel","ngClass","ngModelChange","selectionChange"],["value","-1"],["with","30","height","25",3,"src"],["name","col",3,"ngModel","ngClass","ngModelChange","selectionChange"],[1,"col-md-6","col-sm-12","p-10"],[1,"brdr"],[1,"example-full-width","m-10"],["matInput","","placeholder","Level Name","required","true",3,"ngModel","ngModelChange"],["matInput","","placeholder","Model Id","required","true",3,"ngModel","ngModelChange"],["class","example-full-width m-10",4,"ngIf"],[1,"lblcolr",3,"checked","ngModel","ngModelChange"],[1,"addBtn"],["mat-raised-button","","color","primary",3,"click"],["class","addBtn",4,"ngIf"],[1,"",2,"display","inline-flex"],[1,"upload-btn-wrapper",2,"padding-left","25px"],["class","btn",4,"ngIf"],["type","file",3,"change"],["Image",""],["width","100%","class","image",3,"src",4,"ngIf"],[1,"upload-btn-wrapper",2,"padding-left","75px"],["matInput","","placeholder","Level Name 2","required","true",3,"ngModel","ngModelChange"],["mat-raised-button","","color","blue",3,"click"],[1,"btn"],["width","100%",1,"image",3,"src"],[1,"col-md-6","col-sm-12","p-30"],["matInput","","placeholder","Model ID","required","true",3,"ngModel","ngModelChange"],["matInput","","placeholder","Color ID","required","true",3,"ngModel","ngModelChange"],["matInput","","placeholder","Color Name","required","true",3,"ngModel","ngModelChange"],["mat-raised-button","","color","primary",3,"disabled","click"],["width","50%","class","image",3,"src",4,"ngIf"],["width","50%",1,"image",3,"src"],[3,"statusEvent"]],template:function(t,e){1&t&&(s.Gc(0,Ot,22,9,"div",0),s.Gc(1,xt,2,0,"div",0)),2&t&&(s.mc("ngIf",e.pageSta),s.Cb(1),s.mc("ngIf",!e.pageSta))},directives:[a.n,m.c,m.f,u.a,g.n,g.q,a.m,h.l,a.l,C.b,g.c,g.u,T.a,f.b,M.a],styles:["p[_ngcontent-%COMP%]{font-family:Lato}.dropzone[_ngcontent-%COMP%]{min-height:500px;min-width:400px;display:table;width:95%;background-color:#fff!important;border:1px solid #aaa;pad:10px;margin:30px;border-radius:10px}.text-wrapper[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}.centered[_ngcontent-%COMP%]{font-family:sans-serif;font-size:1.3em;font-weight:700;text-align:center;display:flex;flex-direction:column;align-items:center;line-height:2;border:1px dotted;height:200px;padding:75px 20px 3px;position:relative;top:20px;margin:0 300px}#canvas[_ngcontent-%COMP%]{background-repeat:no-repeat}.fs-30[_ngcontent-%COMP%]{font-size:80px}.upload-btn-wrapper[_ngcontent-%COMP%]{position:relative;overflow:hidden;display:inline-block}.imgCls[_ngcontent-%COMP%]{position:relative!important;height:600px!important;width:450px!important}.cntr[_ngcontent-%COMP%]{top:5%}.btn[_ngcontent-%COMP%]{border:2px solid grey;color:rgba(49,106,211,.87);background-color:#fff;padding:8px 20px;border-radius:8px;font-size:20px;font-weight:700}.upload-btn-wrapper[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{font-size:100px;position:absolute;left:0;top:0;opacity:0;cursor:pointer}.iconCls[_ngcontent-%COMP%]{position:relative;bottom:45px;right:20px}.p-10[_ngcontent-%COMP%]{padding:10px}.pd[_ngcontent-%COMP%]{padding:0 40px}.pl-40[_ngcontent-%COMP%]{padding-left:40px}.mrLess[_ngcontent-%COMP%]{margin:0 100px!important}.cntr[_ngcontent-%COMP%]{text-align:center;position:relative;top:50px}.brdr[_ngcontent-%COMP%]{border:1px solid rgba(210,201,201,.76);border-radius:10px;display:flex;align-items:center;width:-moz-fit-content;width:fit-content}.p-30[_ngcontent-%COMP%]{padding:30px}.clrbtn[_ngcontent-%COMP%]{border:2px solid #cec5c5;color:grey;background-color:#fff;padding:8px 20px;border-radius:8px;font-size:16px;font-weight:700;cursor:pointer}.addBtn[_ngcontent-%COMP%]{float:right;padding:20px 10px}.lisImg[_ngcontent-%COMP%]{width:70px;border-radius:100%}.lblcolr[_ngcontent-%COMP%]{color:#93a3e7!important;font-size:15px!important}.mat-focused[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%]{color:green!important;font-size:20px}.mat-focused[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .mat-form-field-empty.mat-form-field-label[_ngcontent-%COMP%], .mat-focused[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%], .mat-focused[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .mat-form-field-outline[_ngcontent-%COMP%], .mat-focused[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .mat-form-field-underline[_ngcontent-%COMP%], .mat-focused[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%], .mat-focused[_ngcontent-%COMP%]   .mat-form-field-label[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]   [_ngcontent-%COMP%]::placeholder{color:#00f!important}"]}),t}(),yt=n("2uiY");function Pt(t,e){if(1&t){var n=s.Vb();s.Ub(0,"div",47),s.bc("files",(function(t){s.xc(n);var e=s.fc().index;return s.fc().filesDropped(t,e)})),s.Ub(1,"div",48),s.Ub(2,"div",49),s.Ub(3,"mat-icon",50),s.Ic(4,"cloud_upload_outline"),s.Tb(),s.Ub(5,"span"),s.Ic(6," Drop your file here! "),s.Tb(),s.Ub(7,"span"),s.Ic(8," Or "),s.Tb(),s.Ub(9,"div",51),s.Ub(10,"button",52),s.Ic(11,"Browse a file"),s.Tb(),s.Ub(12,"input",53,54),s.bc("change",(function(t){s.xc(n);var e=s.fc().index;return s.fc().filesDropped(t,e)})),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb()}}function Lt(t,e){if(1&t){var n=s.Vb();s.Ub(0,"div",55),s.Ub(1,"div",56),s.Ub(2,"span",2),s.Ic(3,"Set Coordinates Size"),s.Tb(),s.Ub(4,"div",57),s.Ub(5,"div",58),s.bc("click",(function(){return s.xc(n),s.fc(2).changeSize("sm")})),s.Tb(),s.Ub(6,"div",59),s.bc("click",(function(){return s.xc(n),s.fc(2).changeSize("md")})),s.Tb(),s.Ub(7,"div",60),s.bc("click",(function(){return s.xc(n),s.fc(2).changeSize("lg")})),s.Tb(),s.Ub(8,"mat-form-field",61),s.Ub(9,"mat-label"),s.Ic(10,"Custome Value"),s.Tb(),s.Ub(11,"input",62),s.bc("ngModelChange",(function(t){return s.xc(n),s.fc(2).pointSize=t})),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Ub(12,"canvas",63),s.bc("mouseover",(function(t){s.xc(n);var e=s.fc().index;return s.fc().enterFun(t,e)}))("click",(function(t){s.xc(n);var e=s.fc().index;return s.fc().getPosition(t,e)})),s.Tb(),s.Tb()}if(2&t){var a=s.fc().$implicit,i=s.fc();s.mc("perfectScrollbar",i.config),s.Cb(11),s.mc("ngModel",i.pointSize),s.Cb(1),s.Dc("background-image","url("+a.img+")")}}function At(t,e){if(1&t){var n=s.Vb();s.Ub(0,"mat-icon",64),s.bc("click",(function(){s.xc(n);var t=s.fc().index;return s.fc().remove(t)})),s.Ic(1,"close"),s.Tb()}}function Nt(t,e){1&t&&(s.Ub(0,"th",65),s.Ic(1," S.No "),s.Tb())}function wt(t,e){if(1&t&&(s.Ub(0,"td",66),s.Ic(1),s.Tb()),2&t){var n=e.$implicit;s.Cb(1),s.Kc(" ",n.REF_NO," ")}}function Gt(t,e){1&t&&(s.Ub(0,"th",65),s.Ic(1," PART NO "),s.Tb())}function Rt(t,e){if(1&t&&(s.Ub(0,"td",66),s.Ic(1),s.Tb()),2&t){var n=e.$implicit;s.Cb(1),s.Kc(" ",n.PART_NO," ")}}function Vt(t,e){1&t&&(s.Ub(0,"th",65),s.Ic(1," DESCRIPTION"),s.Tb())}function kt(t,e){if(1&t&&(s.Ub(0,"td",66),s.Ic(1),s.Tb()),2&t){var n=e.$implicit;s.Cb(1),s.Kc(" ",n.PART_DESC," ")}}function Bt(t,e){1&t&&(s.Ub(0,"th",65),s.Ic(1," QV"),s.Tb())}function Ft(t,e){if(1&t&&(s.Ub(0,"td",66),s.Ic(1),s.Tb()),2&t){var n=e.$implicit;s.Cb(1),s.Kc(" ",n.QV," ")}}function zt(t,e){1&t&&(s.Ub(0,"th",67),s.Ic(1," NDP"),s.Tb())}function qt(t,e){if(1&t&&(s.Ub(0,"td",68),s.Ic(1),s.gc(2,"number"),s.Tb()),2&t){var n=e.$implicit;s.Cb(1),s.Jc(s.ic(2,1,n.NDP,"2.0"))}}function Yt(t,e){1&t&&(s.Ub(0,"th",67),s.Ic(1," MOQ"),s.Tb())}function Kt(t,e){if(1&t&&(s.Ub(0,"td",68),s.Ic(1),s.Tb()),2&t){var n=e.$implicit;s.Cb(1),s.Kc(" ",n.MOQ," ")}}function $t(t,e){1&t&&(s.Ub(0,"th",67),s.Ic(1," REMARKS"),s.Tb())}function jt(t,e){if(1&t&&(s.Ub(0,"td",68),s.Ic(1),s.Tb()),2&t){var n=e.$implicit;s.Cb(1),s.Kc(" ",n.REMARKS," ")}}function Ht(t,e){1&t&&(s.Ub(0,"th",69),s.Ic(1," STATUS"),s.Tb())}function Qt(t,e){if(1&t){var n=s.Vb();s.Ub(0,"td",68),s.Ub(1,"select",70),s.bc("ngModelChange",(function(t){return s.xc(n),e.$implicit.ACTIVE=t})),s.Ub(2,"option",71),s.Ic(3,"Active"),s.Tb(),s.Ub(4,"option",72),s.Ic(5,"Inactive"),s.Tb(),s.Tb(),s.Tb()}if(2&t){var a=e.$implicit;s.Cb(1),s.mc("disabled",!0)("ngModel",a.ACTIVE)}}function Xt(t,e){1&t&&(s.Ub(0,"th",67),s.Ic(1," Edit"),s.Tb())}function Jt(t,e){if(1&t){var n=s.Vb();s.Ub(0,"td",68),s.Ub(1,"button",73),s.Ub(2,"mat-icon"),s.Ic(3,"more_vert"),s.Tb(),s.Tb(),s.Ub(4,"mat-menu",74,75),s.Ub(6,"button",76),s.bc("click",(function(){s.xc(n);var t=e.$implicit;return s.fc(2).editData(t)})),s.Ic(7," Edit "),s.Tb(),s.Ub(8,"button",77),s.Ic(9," Block "),s.Tb(),s.Ub(10,"button",77),s.Ic(11," Delete "),s.Tb(),s.Tb(),s.Tb()}if(2&t){var a=s.uc(5);s.Cb(1),s.mc("matMenuTriggerFor",a)}}function Zt(t,e){1&t&&s.Pb(0,"tr",78)}var Wt=function(t){return{"make-gold":t}};function te(t,e){1&t&&s.Pb(0,"tr",79),2&t&&s.mc("ngClass",s.qc(1,Wt,1==e.$implicit.select))}function ee(t,e){if(1&t&&(s.Ub(0,"div",12),s.Ub(1,"div",13),s.Gc(2,Pt,14,0,"div",14),s.Gc(3,Lt,13,4,"div",15),s.Tb(),s.Ub(4,"div",16),s.Ub(5,"div",17),s.Gc(6,At,2,0,"mat-icon",18),s.Tb(),s.Ub(7,"div",19),s.Ub(8,"div",20),s.Ub(9,"div",21),s.Ub(10,"div",22),s.Ub(11,"label",23),s.Ic(12,"FIG NO"),s.Tb(),s.Ub(13,"select",24),s.Ub(14,"option",25),s.Ic(15),s.Tb(),s.Tb(),s.Tb(),s.Ub(16,"div",22),s.Ub(17,"label",26),s.Ic(18,"MODEL NO"),s.Tb(),s.Ub(19,"select",27),s.Ub(20,"option",28),s.Ic(21),s.Tb(),s.Tb(),s.Tb(),s.Ub(22,"div",22),s.Ub(23,"label",26),s.Ic(24,"COLOR"),s.Tb(),s.Ub(25,"select",27),s.Ub(26,"option",29),s.Ic(27),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Ub(28,"table",30),s.Sb(29,31),s.Gc(30,Nt,2,0,"th",32),s.Gc(31,wt,2,1,"td",33),s.Rb(),s.Sb(32,34),s.Gc(33,Gt,2,0,"th",32),s.Gc(34,Rt,2,1,"td",33),s.Rb(),s.Sb(35,35),s.Gc(36,Vt,2,0,"th",32),s.Gc(37,kt,2,1,"td",33),s.Rb(),s.Sb(38,36),s.Gc(39,Bt,2,0,"th",32),s.Gc(40,Ft,2,1,"td",33),s.Rb(),s.Sb(41,37),s.Gc(42,zt,2,0,"th",38),s.Gc(43,qt,3,4,"td",39),s.Rb(),s.Sb(44,40),s.Gc(45,Yt,2,0,"th",38),s.Gc(46,Kt,2,1,"td",39),s.Rb(),s.Sb(47,41),s.Gc(48,$t,2,0,"th",38),s.Gc(49,jt,2,1,"td",39),s.Rb(),s.Sb(50,42),s.Gc(51,Ht,2,0,"th",43),s.Gc(52,Qt,6,2,"td",39),s.Rb(),s.Sb(53,44),s.Gc(54,Xt,2,0,"th",38),s.Gc(55,Jt,12,1,"td",39),s.Rb(),s.Gc(56,Zt,1,0,"tr",45),s.Gc(57,te,1,3,"tr",46),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb()),2&t){var n=e.$implicit,a=e.index,i=s.fc();s.Cb(2),s.mc("ngIf",!n.img&&!i.files),s.Cb(1),s.mc("ngIf",n.img),s.Cb(3),s.mc("ngIf",0!=a),s.Cb(1),s.mc("perfectScrollbar",i.config),s.Cb(1),s.mc("perfectScrollbar",i.config),s.Cb(7),s.Jc(i.paramslst.FIG_NO),s.Cb(6),s.Jc(i.paramslst.MODEL_ID),s.Cb(6),s.Jc(i.paramslst.COLOR_DESC),s.Cb(1),s.mc("dataSource",n.listData),s.Cb(28),s.mc("matHeaderRowDef",i.displayedColumns),s.Cb(1),s.mc("matRowDefColumns",i.displayedColumns)}}var ne=[{path:"",children:[{path:"",component:at},{path:"detail",component:St},{path:"subparts",component:function(){function t(t,e,n,a,i,o,l){var r=this;this.dialog=t,this.router=e,this.sidenaveService=n,this.route=a,this.masterdata=i,this.toaster=o,this.commonservice=l,this.config={},this.statusEvent=new s.o,this.displayedColumns=["sNo","partNo","partName","QV","ndp","moq","Remarks","status","edit"],this.dataSource=[],this.files="",this.pointSize=10,this.smSize=5,this.mdSize=7,this.lgSize=10,this.supPartsArray=[{id:1,img:"",x:0,y:0,listData:[{id:1,partNo:"P1",partName:"Engine",xlSup:20,xlSupHd:5,ndp:4,moq:6,stock:56,status:"Active",x:76,y:98,hover:!1}]}],this.disable=!1,this.saveData={dealerID:0,ColorID:0,ModelID:null,FigNo:null,CustumValue:0,parts:[],status:0,imgPath:null,coordinates:null},this.paramslst={},this.selected=!1,this.found=!1,this.sub=this.route.params.subscribe((function(t){console.log("VVVVVVVVVVVV",t),r.paramslst=t}))}return t.prototype.ngOnInit=function(){this.sidenaveService.togglingMenu({}),this.imgUrl="/assets/Images/engine.png",this.getPartAssembDetail(),this.getPartPriceDetail()},t.prototype.filesDropped=function(t){var e=this;if(this.files=t.target.files[0],this.files){var n=this.files.name.split(".").slice(0,-1).join(".");if(this.paramslst.MODEL_ID!==n)return void this.toaster.infoToastr("Model and Selected image is not Same");this.uploadImage(this.files,"ModelColors|"+this.paramslst.MODEL_ID+"|colors")}if(t.target.files&&t.target.files[0]){var a=new FileReader;a.onload=function(t){e.supPartsArray[0].img=t.target.result},a.readAsDataURL(t.target.files[0])}console.log("i got",t.target.files[0])},t.prototype.uploadedFile=function(t){var e=this;if(this.file=t.target.files[0],this.file.size>0){var n=new FileReader;n.readAsArrayBuffer(this.file),n.onload=function(t){e.arrayBuffer=n.result;for(var a=new Uint8Array(e.arrayBuffer),i=new Array,o=0;o!=a.length;++o)i[o]=String.fromCharCode(a[o]);var l=i.join(""),r=c.read(l,{type:"binary"}),s=r.Sheets[r.SheetNames[0]];console.log(c.utils.sheet_to_json(s,{raw:!0}));var d=c.utils.sheet_to_json(s,{defval:""});e.filelist=[],e.filelist=d,console.log(e.filelist),e.readToDataSource()}}else this.toaster.warningToastr("No Data to Import !.....")},t.prototype.readToDataSource=function(){var t=this;if(this.filelist.length>0){for(var e=[],n=function(n){if(a.paramslst.COLOR_ID!=a.filelist[n].colorId||a.paramslst.FIG_NO!=a.filelist[n].FigNo||a.paramslst.MODEL_ID!=a.filelist[n].modelid)return a.toaster.warningToastr("Check the Model or Color Details which is not Matched for Row ID : "+a.filelist[n].id),{value:void 0};var i=a.partPricelst.filter((function(e){return e.PartNo==t.filelist[n].partid})),o=a.partPricelst.filter((function(e){return e.PartNo==t.filelist[n].partid})),l=a.partStkLst.filter((function(e){return e.PartNo==t.filelist[n].partid}));e.push({REF_NO:a.filelist[n].id,PART_NO:a.filelist[n].partid,ACTIVE:1==a.filelist[n].Active?"true":"false",PART_DESC:a.filelist[n].partdesc,COORDINATES:a.filelist[n].coordinates,FIG_NO:a.filelist[n].FigNo,MOQ:""==a.filelist[n].MOQ?0:a.filelist[n].MOQ,MRP:i.length?i[0].MRP:0,NDP:o.length?o[0].NDP:0,ORD:l.length?l[0].AvailableQty:0,QV:a.filelist[n].qv,REMARKS:a.filelist[n].Remarks,IDPartFigSlNo:a.filelist[n].IDPartFigSlNo})},a=this,i=0;i<=this.filelist.length-1;i++){var o=n(i);if("object"==typeof o)return o.value}this.supPartsArray[0].listData=e,this.toaster.infoToastr("Add to the Parts Table")}},t.prototype.getPosition=function(t,e){var n=this;console.log("eve",t),this.selected=!1,this.found=!1,this.currentInd=e,this.element=this.root,this.canvas=document.getElementById("canvas"),this.ctx=this.canvas.getContext("2d");var a=0,i=0;a+=t.offsetX,i+=t.offsetY,this.supPartsArray[0].listData.filter((function(t,e){if(t.cordinates&&t.cordinates.filter((function(e){if(a==e.x&&i==e.y)return t.select=!t.select,n.toaster.infoToastr("Selected Part is Already Exist"),n.selected=!0})),1==n.selected)return n.found=!0,!0})),0==this.selected&&0==this.found&&this.openDialog(a,i,"N","")},t.prototype.drawCoordinates=function(t,e){var n=this.ctx.createLinearGradient(0,0,170,0);n.addColorStop(0,"black"),n.addColorStop(1,"#9bcb84"),this.ctx.fillStyle=n,this.ctx.beginPath(),this.ctx.arc(Number(t),Number(e),this.pointSize,0,2*Math.PI,!0),this.ctx.fill();var a=this.ctx.getImageData(t,e,1,1).data,i="#"+("000000"+this.rgbToHex(a[0],a[1],a[2])).slice(-6);console.log(i)},t.prototype.rgbToHex=function(t,e,n){if(t>255||e>255||n>255)throw"Invalid color component";return(t<<16|e<<8|n).toString(16)},t.prototype.openDialog=function(t,e,n,a){var i=this;this.dialog.open(it.a,{data:{x:t,y:e,type:"sub",isEdt:n,editData:a,PS:this.pointSize,curLst:this.supPartsArray[0].listData},width:"900px"}).afterClosed().subscribe((function(a){var o;a&&"N"==n&&(o=i.supPartsArray[i.currentInd].listData,i.supPartsArray[i.currentInd].listData=[],o.push(a),setTimeout((function(){i.supPartsArray[i.currentInd].listData=o}),1e3),console.log("shoe cur data",a),i.drawCoordinates(t,e))}))},t.prototype.addMoreParts=function(){},t.prototype.remove=function(t){},t.prototype.save=function(){var t=this;localStorage.setItem("quardinates",JSON.stringify(this.supPartsArray)),this.saveData.dealerID=localStorage.getItem("dealercode"),this.saveData.ColorID=this.paramslst.COLOR_ID,this.saveData.ModelID=this.paramslst.MODEL_ID,this.saveData.FigNo=this.paramslst.FIG_NO,this.saveData.status="S",this.saveData.imgPath=this.supPartsArray[0].img,this.saveData.coordinates=null;for(var e=this.supPartsArray[0].listData,n=[],a=0;a<e.length;a++)e[a].PART_NO&&n.push({REF_NO:e[a].REF_NO,PART_NO:e[a].PART_NO,ACTIVE:e[a].ACTIVE,PART_DESC:e[a].PART_DESC,COORDINATES:e[a].COORDINATES,FIG_NO:e[a].FIG_NO,MOQ:e[a].MOQ,MRP:e[a].MRP,NDP:e[a].NDP,Stock:e[a].ORD,QV:e[a].QV,REMARKS:e[a].REMARKS,IDPartFigSlNo:this.filelist[a].IDPartFigSlNo});this.saveData.parts=n,this.masterdata.post({Parts:this.saveData},"api/CatalougeMaster/AddandUpdatePaintPart").subscribe((function(e){200==e.statusCode?t.toaster.successToastr(e.data):t.toaster.errorToastr(e.data)}),(function(e){t.toaster.errorToastr(e.statusMessage)})),this.statusEvent.next("1")},t.prototype.goBack=function(){this.router.navigate(["/adminPainted/detail"]),this.statusEvent.next("0")},t.prototype.fileChanged=function(t){alert("GG")},t.prototype.enterFun=function(t,e){console.log("FF")},t.prototype.changeSize=function(t){switch(t){case"sm":this.pointSize=this.smSize;break;case"md":this.pointSize=this.mdSize;break;case"lg":this.pointSize=this.lgSize}},t.prototype.getPartAssembDetail=function(){var t=this;this.masterdata.getReq("","api/Catalouge/GetPaintedPartDetailsByModelID?MODEL_ID="+this.paramslst.MODEL_ID+"&COLOR_ID="+this.paramslst.COLOR_ID+"&FIG_NO="+this.paramslst.FIG_NO+"&DealerID="+localStorage.getItem("dealercode")).subscribe((function(e){e&&200==e.statusCode&&(t.supPartsArray[0].img=e.data.IMAGE_LINK,console.log("sucesss",e.data.partDetails.count),t.supPartsArray[0].listData=e.data.partDetails,t.supPartsArray[0].listData.filter((function(t){t.ord=t.moq;for(var e=t.x+5,n=t.y+5,a=t.y-5,i=[],o=t.x-5;o<e;o++)for(var l=a;l<n;l++)i.push({x:o,y:l}),t.cordinates=i})),t.disable=!0)}),(function(e){t.toaster.errorToastr(e.statusMessage)}))},t.prototype.editData=function(t){this.openDialog(t.x,t.y,"Y",t)},t.prototype.Add=function(){var t=this;this.saveData.dealerID=localStorage.getItem("dealercode"),this.saveData.colorID=this.paramslst.COLOR_ID,this.saveData.FigNo=this.paramslst.FIG_NO,this.saveData.ModelID=this.paramslst.MODEL_ID,this.saveData.status="A",this.saveData.imgPath=this.supPartsArray[0].img,this.saveData.coordinates=this.supPartsArray[0].x+","+this.supPartsArray[0].y+","+this.pointSize,this.saveData.parts=[],this.masterdata.post({Parts:this.saveData},"api/CatalougeMaster/AddandUpdatePaintedPart").subscribe((function(e){200==e.statusCode?t.toaster.successToastr(e.data):t.toaster.errorToastr(e.data)}),(function(e){t.toaster.errorToastr(e.statusMessage)}))},t.prototype.getPartPriceDetail=function(){var t=this;this.masterdata.getReq("","api/CatalougeMaster/GetPartPrice?dealerID="+localStorage.getItem("dealercode")).subscribe((function(e){e&&200==e.statusCode&&(t.partPricelst=e.data.partPrices,t.partStkLst=e.data.partStocks)}),(function(e){t.toaster.errorToastr(e.statusMessage)}))},t.prototype.uploadImage=function(t,e){var n=this,a=new FormData;a.append("image",t),a.append("folder",e),this.masterdata.postimags(a,"api/CatalougeMaster/UploadImages").subscribe((function(t){200==t.statusCode?(n.toaster.successToastr(t.message),n.disable=!0):n.toaster.errorToastr(t.message)}),(function(t){401==t.status&&n.toaster.errorToastr(t.statusMessage)}))},t.\u0275fac=function(e){return new(e||t)(s.Ob(r.b),s.Ob(i.f),s.Ob(yt.a),s.Ob(i.a),s.Ob(d.a),s.Ob(b.a),s.Ob(ot.a))},t.\u0275cmp=s.Ib({type:t,selectors:[["app-painted-subparts"]],viewQuery:function(t,e){var n;1&t&&s.Nc(l.b,!0),2&t&&s.tc(n=s.cc())&&(e.directiveScroll=n.first)},outputs:{statusEvent:"statusEvent"},decls:28,vars:1,consts:[[1,"h-100"],[1,"flx","sp"],[1,"fnt"],[2,"margin-left","auto"],[1,"upload-btn-wrapper","wrChange"],["mat-stroked-button","","color","primary",1,"pr-10"],["type","file","name","myfile","accept",".xlsx",3,"change"],["type","file","name","myfile1","accept","image/*",3,"change"],["mat-stroked-button","","color","primary",1,"pr-10",3,"click"],[1,"srlDiv"],["class","flx col-12 rmpm dropzone mNone",4,"ngFor","ngForOf"],[1,"flxEnd"],[1,"flx","col-12","rmpm","dropzone","mNone"],[1,"col-md-4","col-sm-12"],["class","col-12 rmpm dropzone bNone","appDrag","",3,"files",4,"ngIf"],["class","cntr srlDiv",3,"perfectScrollbar",4,"ngIf"],[1,"col-md-9","col-sm-12"],[1,"disBtn"],["class","cur_point",3,"click",4,"ngIf"],[1,"tableOut","mBlock","srlDiv",3,"perfectScrollbar"],[1,"pa-30","mat-elevation-z8",3,"perfectScrollbar"],[1,"dispFlx","mobCol"],[1,"dispColIN","mpb-10"],["for","cat"],["name","cat","id","cat"],["value","paramslst.FIG_NO"],["for","mod"],["name","mod","id","mod"],["value","paramslst.MODEL_ID"],["value","paramslst.COLOR_ID"],["mat-table","",1,"mat-elevation-z8","tabWith",3,"dataSource"],["matColumnDef","sNo"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","partNo"],["matColumnDef","partName"],["matColumnDef","QV"],["matColumnDef","ndp"],["class","w-50","mat-header-cell","",4,"matHeaderCellDef"],["class","w-50","mat-cell","",4,"matCellDef"],["matColumnDef","moq"],["matColumnDef","Remarks"],["matColumnDef","status"],["style","text-align:center","mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","edit"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"ngClass",4,"matRowDef","matRowDefColumns"],["appDrag","",1,"col-12","rmpm","dropzone","bNone",3,"files"],[1,"text-wrapper"],[1,"centered"],[1,"fs-30","iconCls"],[1,"upload-btn-wrapper"],[1,"btn"],["type","file","name","myfile",3,"change"],["Image",""],[1,"cntr","srlDiv",3,"perfectScrollbar"],[1,"flStart"],[1,"flxb"],[1,"smCls","cur_point","mr-10",3,"click"],[1,"mdCls","cur_point","mr-10","posb-2",3,"click"],[1,"lgCls","cur_point","mr-10","posb-6",3,"click"],[1,"example-full-width","m-10","wt-20"],["matInput","","placeholder","Code",3,"ngModel","ngModelChange"],["id","canvas","width","450","height","570",1,"imgCls","mBlock",3,"mouseover","click"],[1,"cur_point",3,"click"],["mat-header-cell",""],["mat-cell",""],["mat-header-cell","",1,"w-50"],["mat-cell","",1,"w-50"],["mat-header-cell","",2,"text-align","center"],["name","mod","id","mod",1,"stCls",3,"disabled","ngModel","ngModelChange"],["value","true"],["value","false"],["mat-icon-button","","aria-label","Example icon-button with a menu",3,"matMenuTriggerFor"],["xPosition","after"],["menu","matMenu"],["mat-menu-item","",3,"click"],["mat-menu-item",""],["mat-header-row",""],["mat-row","",3,"ngClass"]],template:function(t,e){1&t&&(s.Ub(0,"div",0),s.Ub(1,"div",1),s.Ub(2,"span",2),s.Ic(3,"Parts Details"),s.Tb(),s.Ub(4,"div",3),s.Ub(5,"div",4),s.Ub(6,"button",5),s.Ub(7,"mat-icon"),s.Ic(8,"upload"),s.Tb(),s.Ic(9," Export"),s.Tb(),s.Ub(10,"input",6),s.bc("change",(function(t){return e.uploadedFile(t)})),s.Tb(),s.Tb(),s.Ub(11,"div",4),s.Ub(12,"button",5),s.Ub(13,"mat-icon"),s.Ic(14,"upload"),s.Tb(),s.Ic(15," Image"),s.Tb(),s.Ub(16,"input",7),s.bc("change",(function(t){return e.filesDropped(t)})),s.Tb(),s.Tb(),s.Ub(17,"button",8),s.bc("click",(function(){return e.goBack()})),s.Ub(18,"mat-icon"),s.Ic(19,"cancel"),s.Tb(),s.Ic(20," Cancel"),s.Tb(),s.Ub(21,"button",8),s.bc("click",(function(){return e.save()})),s.Ub(22,"mat-icon"),s.Ic(23,"save"),s.Tb(),s.Ic(24,"Save"),s.Tb(),s.Tb(),s.Tb(),s.Ub(25,"div",9),s.Gc(26,ee,58,11,"div",10),s.Pb(27,"div",11),s.Tb(),s.Tb()),2&t&&(s.Cb(26),s.mc("ngForOf",e.supPartsArray))},directives:[f.b,M.a,a.m,a.n,l.b,g.r,g.x,G.j,G.c,G.e,G.b,G.g,G.i,m.c,m.f,C.b,g.c,g.n,g.q,G.d,G.a,g.v,R.c,R.d,R.a,G.f,G.h,a.l],pipes:[a.g],styles:[".centered[_ngcontent-%COMP%]{margin:0 150px!important}.flx[_ngcontent-%COMP%]{display:flex!important}.bNone[_ngcontent-%COMP%]{border:none!important}.stCls[_ngcontent-%COMP%]{height:25px;border-radius:15px}.flxEnd[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-bottom:50px}.r-50[_ngcontent-%COMP%]{position:relative;right:50px}.flxb[_ngcontent-%COMP%]{justify-content:flex-end;align-self:center;display:flex}.fnt[_ngcontent-%COMP%]{font-size:large;font-family:sans-serif;margin-block-start:auto;padding-inline:10px}.srlDiv[_ngcontent-%COMP%]{height:800px}.h-100[_ngcontent-%COMP%]{height:100%}.disBtn[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.disBtn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{position:relative;bottom:15px;left:15px}.sp[_ngcontent-%COMP%]{justify-content:space-between}.pr-10[_ngcontent-%COMP%]{margin-right:20px}.mNone[_ngcontent-%COMP%]{margin:5px 0 5px 5px!important;max-height:620px}.cntr[_ngcontent-%COMP%]{text-align:center;position:relative;top:20px!important}.btn[_ngcontent-%COMP%]{border:2px solid grey;color:grey;background-color:#fff;padding:8px 20px;border-radius:8px;font-size:15px!important;font-weight:700}.btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px!important}.upload-btn-wrapper[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{font-size:100px;position:absolute;left:0;top:0;opacity:0;cursor:pointer}.wrChange[_ngcontent-%COMP%]{top:20px!important;height:42px!important}.smCls[_ngcontent-%COMP%]{width:14px;height:15px}.mdCls[_ngcontent-%COMP%], .smCls[_ngcontent-%COMP%]{background-color:red;border-radius:10px}.mdCls[_ngcontent-%COMP%]{width:20px;height:20px}.lgCls[_ngcontent-%COMP%]{width:30px;height:29px;background-color:red;border-radius:33px}.wt-20[_ngcontent-%COMP%]{width:20%}.srlDiv[_ngcontent-%COMP%]{height:calc(100% - 60px);position:relative}.flStart[_ngcontent-%COMP%]{align-items:flex-start;display:flex}.mr-10[_ngcontent-%COMP%]{margin:10px}.posb-2[_ngcontent-%COMP%]{bottom:2px}.posb-2[_ngcontent-%COMP%], .posb-6[_ngcontent-%COMP%]{position:relative}.posb-6[_ngcontent-%COMP%]{bottom:6px}.posb-10[_ngcontent-%COMP%]{position:relative;bottom:10px}.w-50[_ngcontent-%COMP%]{text-align:right}.mat-footer-cell[_ngcontent-%COMP%],   .mat-cell{font-size:11px!important}tr.mat-row[_ngcontent-%COMP%]{border:1px solid #e7e7e7;height:4px!important}tr.mat-header-row[_ngcontent-%COMP%]{border:1.2px solid #180c0c;font-weight:700}.dispColIN[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:25%}.dispColIN[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{height:25px}.make-gold[_ngcontent-%COMP%]{background-color:gold}","p[_ngcontent-%COMP%]{font-family:Lato}.dropzone[_ngcontent-%COMP%]{min-height:550px;min-width:400px;display:table;width:100%;background-color:#fff!important;border:1px solid #aaa;pad:10px;margin:30px;border-radius:10px}.text-wrapper[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}.centered[_ngcontent-%COMP%]{font-family:sans-serif;font-size:1.3em;font-weight:700;text-align:center;display:flex;flex-direction:column;align-items:center;line-height:2;border:1px dotted;height:200px;padding:75px 20px 3px;position:relative;top:20px;margin:0 300px}#canvas[_ngcontent-%COMP%]{background-repeat:no-repeat}.fs-30[_ngcontent-%COMP%]{font-size:80px}.upload-btn-wrapper[_ngcontent-%COMP%]{position:relative;overflow:hidden;display:inline-block}.cntr[_ngcontent-%COMP%]{top:5%}.btn[_ngcontent-%COMP%]{border:2px solid grey;color:grey;background-color:#fff;padding:8px 20px;border-radius:8px;font-size:20px;font-weight:700}.upload-btn-wrapper[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{font-size:100px;position:absolute;left:0;top:0;opacity:0;cursor:pointer}.iconCls[_ngcontent-%COMP%]{position:relative;bottom:45px;right:20px}.p-10[_ngcontent-%COMP%]{padding:10px}.pd[_ngcontent-%COMP%]{padding:0 40px}.pl-40[_ngcontent-%COMP%]{padding-left:40px}.mrLess[_ngcontent-%COMP%]{margin:0 100px!important}.cntr[_ngcontent-%COMP%]{text-align:center;position:relative;top:50px}.brdr[_ngcontent-%COMP%]{border:1px solid rgba(210,201,201,.76);border-radius:10px;display:flex;align-items:center;justify-content:space-around;margin:0 10px 10px 0}.p-30[_ngcontent-%COMP%]{padding:30px}.clrbtn[_ngcontent-%COMP%]{border:2px solid #cec5c5;color:grey;background-color:#fff;padding:8px 20px;border-radius:8px;font-size:16px;font-weight:700;cursor:pointer}.addBtn[_ngcontent-%COMP%]{float:right;padding:10px}.lisImg[_ngcontent-%COMP%]{width:70px;border-radius:100%}.mat-fab.mat-accent[_ngcontent-%COMP%], .mat-flat-button.mat-accent[_ngcontent-%COMP%], .mat-mini-fab.mat-accent[_ngcontent-%COMP%], .mat-raised-button.mat-accent[_ngcontent-%COMP%]{background-color:#a2b8d9;color:#585555}.pr-10[_ngcontent-%COMP%]{margin-right:10px;border:1px solid #61619d!important}.stCls[_ngcontent-%COMP%]{height:10px;border-radius:15px}",".pa-30[_ngcontent-%COMP%]{margin:7px}.pa-30[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}.dispCol[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:15%}.dispCol[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{height:25px}.pr-10[_ngcontent-%COMP%]{margin-right:10px;border:1px solid #61619d!important}.dispFlx[_ngcontent-%COMP%]{display:flex;justify-content:space-around!important;background:#fff;padding:5px;border-bottom:1px solid rgba(232,229,229,.63)}.headDisp[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:7px}.btn[_ngcontent-%COMP%]{border:2px solid grey;color:grey;background-color:#fff;padding:8px 20px;border-radius:8px;font-size:20px;font-weight:700}.upload-btn-wrapper[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{font-size:100px;position:absolute;left:0;top:0;opacity:0}.wrChange[_ngcontent-%COMP%]{font-size:20px!important;width:130px!important;position:relative!important;height:45px}.h-45[_ngcontent-%COMP%]{height:38px}.pd[_ngcontent-%COMP%]{padding:4px 10px!important}.r-15[_ngcontent-%COMP%]{position:relative;right:15px;height:40px}.nu-table-body[_ngcontent-%COMP%]{overflow-y:auto;max-height:442px}.stCls[_ngcontent-%COMP%]{height:25px;border-radius:5px;border-color:rgba(49,106,211,.87)}.srlDiv[_ngcontent-%COMP%]{height:calc(100% - 100px);position:relative;background-repeat:no-repeat!important}td.mat-cell[_ngcontent-%COMP%], td.mat-footer-cell[_ngcontent-%COMP%]{border-bottom-width:1px;border-bottom-style:solid;font-size:10px!important}  .mat-icon-button{height:33px!important}tr.mat-header-row[_ngcontent-%COMP%]{height:30px;background-color:#adbecb!important}tr.mat-footer-row[_ngcontent-%COMP%], tr.mat-row[_ngcontent-%COMP%]{height:36px}"]}),t}()}]}],ae=function(){function t(){}return t.\u0275mod=s.Mb({type:t}),t.\u0275inj=s.Lb({factory:function(e){return new(e||t)},providers:[],imports:[[a.c,i.i.forChild(ne),o.a]]}),t}()}}]);
(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{lQ6J:function(t,e,a){"use strict";a.r(e),a.d(e,"AdminModule",(function(){return W}));var n=a("ofXK"),i=a("tyNb"),r=a("H8qh"),o=a("3Pt+"),c=a("M9IT"),l=a("+0xr"),d=a("Kdsb"),s=a("fXoL"),b=a("as5N"),f=a("rxmM"),p=a("2uiY"),m=a("Kmm4"),u=a("kmnG"),h=a("qFsG"),g=a("iadO"),C=a("bTqV"),O=a("NFeN");const x=["myinput"];function y(t,e){1&t&&(s.Ub(0,"th",33),s.Ic(1,"SL NO"),s.Tb())}function P(t,e){if(1&t&&(s.Ub(0,"td",34),s.Ic(1),s.Tb()),2&t){const t=e.$implicit;s.Cb(1),s.Kc(" ",t.SlNO," ")}}function S(t,e){1&t&&(s.Ub(0,"th",33),s.Ic(1,"Order Date"),s.Tb())}function w(t,e){if(1&t&&(s.Ub(0,"td",34),s.Ic(1),s.gc(2,"date"),s.Tb()),2&t){const t=e.$implicit;s.Cb(1),s.Kc(" ",s.ic(2,1,t.PoDate,"dd-MM-yyyy")," ")}}function T(t,e){1&t&&(s.Ub(0,"th",33),s.Ic(1,"REF NO"),s.Tb())}function D(t,e){if(1&t&&(s.Ub(0,"td",34),s.Ic(1),s.Tb()),2&t){const t=e.$implicit;s.Cb(1),s.Kc(" ",t.PONO," ")}}function M(t,e){1&t&&(s.Ub(0,"th",33),s.Ic(1," DEALER ID "),s.Tb())}function I(t,e){if(1&t&&(s.Ub(0,"td",34),s.Ic(1),s.Tb()),2&t){const t=e.$implicit;s.Cb(1),s.Kc(" ",t.DealerId," ")}}function N(t,e){1&t&&(s.Ub(0,"th",33),s.Ic(1," APS "),s.Tb())}function U(t,e){if(1&t&&(s.Ub(0,"td",34),s.Ic(1),s.Tb()),2&t){const t=e.$implicit;s.Cb(1),s.Kc(" ",t.APSID," ")}}function k(t,e){1&t&&(s.Ub(0,"th",33),s.Ic(1," TOTAL AMT "),s.Tb())}function v(t,e){if(1&t&&(s.Ub(0,"td",34),s.Ic(1),s.Tb()),2&t){const t=e.$implicit;s.Cb(1),s.Kc(" ",t.TotAmt," ")}}function F(t,e){1&t&&(s.Ub(0,"th",33),s.Ic(1," ORDER NO "),s.Tb())}function _(t,e){if(1&t&&(s.Ub(0,"td",34),s.Ic(1),s.Tb()),2&t){const t=e.$implicit;s.Cb(1),s.Kc(" ",t.SAPNO," ")}}function R(t,e){1&t&&(s.Ub(0,"th",33),s.Ic(1," PART NO "),s.Tb())}function G(t,e){if(1&t&&(s.Ub(0,"td",34),s.Ic(1),s.Tb()),2&t){const t=e.$implicit;s.Cb(1),s.Kc(" ",t.PartNO," ")}}function A(t,e){1&t&&(s.Ub(0,"th",33),s.Ic(1," ITEM QTY "),s.Tb())}function E(t,e){if(1&t&&(s.Ub(0,"td",34),s.Ic(1),s.Tb()),2&t){const t=e.$implicit;s.Cb(1),s.Kc(" ",t.Qty," ")}}function K(t,e){1&t&&s.Pb(0,"tr",35),2&t&&s.Dc("min-height",0)}function z(t,e){1&t&&s.Pb(0,"tr",36)}let L=(()=>{class t{constructor(t,e,a,n,i){this.datepipe=t,this.excelService=e,this.masterServices=a,this.sidenaveService=n,this.toaster=i,this.config={},this.fdate=new o.e,this.tdate=new o.e,this.dealerFilter=new o.e(""),this.sapNoFilter=new o.e(""),this.refnoFilter=new o.e(""),this.partnoFilter=new o.e(""),this.displayedColumns=["SlNO","PoDate","PONO","SAPNO","DealerId","APSID","PartNO","Qty","TotAmt"],this.dataSource=new l.k,this.filterValues={DealerId:"",SAPNO:"",PONO:"",PartNO:""},this.frmdate=new Date,this.todate=new Date}ngOnInit(){this.getPodetails()}getPodetails(){this.masterServices.getReq("","api/Catalouge/GetRptEcatOrders?CUSTOMER_ID="+localStorage.getItem("dealercode")).subscribe(t=>{t&&200==t.statusCode&&(t.data.length?(this.ordersList=t.data,this.dataSource=new l.k(this.ordersList),this.dataSource.data=this.ordersList,this.dataSource.filterPredicate=this.createFilter()):this.toaster.infoToastr("No Orders"))},t=>{this.toaster.errorToastr(t.statusMessage)})}createFilter(){return function(t,e){let a=JSON.parse(e);return-1!==t.DealerId.toString().indexOf(a.DealerId)&&-1!==t.SAPNO.toString().indexOf(a.SAPNO)&&-1!==t.PONO.toString().indexOf(a.PONO)&&-1!==t.PartNO.toLowerCase().indexOf(a.PartNO)}}applyFilter(t){this.dealerFilter.valueChanges.subscribe(t=>{this.filterValues.DealerId=t,this.dataSource.filter=JSON.stringify(this.filterValues)}),this.sapNoFilter.valueChanges.subscribe(t=>{this.filterValues.SAPNO=t,this.dataSource.filter=JSON.stringify(this.filterValues)}),this.refnoFilter.valueChanges.subscribe(t=>{this.filterValues.PONO=t,this.dataSource.filter=JSON.stringify(this.filterValues)}),this.partnoFilter.valueChanges.subscribe(t=>{this.filterValues.PartNO=t,this.dataSource.filter=JSON.stringify(this.filterValues)})}applydateFilter(t){if(this.frmdate&&this.todate){let e=this.datepipe.transform(this.frmdate,"yyyy-MM-dd"),a=this.datepipe.transform(this.todate,"yyyy-MM-dd");t&&(this.dataSource.data=this.ordersList.filter(t=>new Date(this.datepipe.transform(t.PoDate,"yyyy-MM-dd"))>=new Date(e)&&new Date(this.datepipe.transform(t.PoDate,"yyyy-MM-dd"))<=new Date(a)))}else this.toaster.warningToastr("select Both Dates")}ExportExcel(){this.dataSource.data.length>0&&(console.log(this.dataSource),this.excelService.exportAsExcelFile(this.dataSource.filteredData,"RptEcat_POs"))}}return t.\u0275fac=function(e){return new(e||t)(s.Ob(n.f),s.Ob(b.a),s.Ob(f.a),s.Ob(p.a),s.Ob(m.a))},t.\u0275cmp=s.Ib({type:t,selectors:[["app-admin"]],viewQuery:function(t,e){var a;1&t&&(s.Nc(d.b,!0),s.Cc(c.a,!0),s.Nc(x,!0)),2&t&&(s.tc(a=s.cc())&&(e.directiveScroll=a.first),s.tc(a=s.cc())&&(e.paginator=a.first),s.tc(a=s.cc())&&(e.myInputField=a.first))},decls:67,vars:16,consts:[[1,"headerPad"],[1,"clusterHead"],[1,"mat-elevation-z8"],[1,"example-form"],["appearance","outline",1,"example-full-width"],["type","text","placeholder","From Date","aria-label","Number","matInput","",1,"fnclass",3,"matDatepicker","formControl","ngModel","dateInput","ngModelChange"],["matSuffix","",3,"for"],["fpicker",""],["type","text","placeholder","To date","aria-label","Number","matInput","",1,"fnclass",3,"matDatepicker","formControl","ngModel","ngModelChange","dateInput"],["tpicker",""],["type","text","placeholder","Search Dealer","aria-label","Number","matInput","",1,"fnclass",3,"formControl","keyup"],["type","text","placeholder","Search SAP NO","aria-label","Number","matInput","",1,"fnclass",3,"formControl","keyup"],[1,"dispc"],["type","text","placeholder","Search Refno","aria-label","Number","matInput","",1,"fnclass",3,"formControl","keyup"],["type","text","placeholder","Search Part NO","aria-label","Number","matInput","",1,"fnclass",3,"formControl","keyup"],[1,"cntr"],["mat-stroked-button","","color","primary",1,"pr-10",3,"click"],[2,"margin-left","20px"],[1,"example-container","mat-elevation-z8",2,"margin","0px 20px 0px 20px","overflow","auto","max-height","359px"],["mat-table","",1,"mat-elevation-z8","tabWith",3,"dataSource"],["matColumnDef","SlNO"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","PoDate"],["matColumnDef","PONO"],["matColumnDef","DealerId"],["matColumnDef","APSID"],["matColumnDef","TotAmt"],["matColumnDef","SAPNO"],["matColumnDef","PartNO"],["matColumnDef","Qty"],["mat-header-row","",3,"min-height",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(t,e){if(1&t&&(s.Ub(0,"div",0),s.Ub(1,"div",1),s.Ub(2,"h2"),s.Ic(3,"Reports"),s.Tb(),s.Tb(),s.Ub(4,"div",2),s.Ub(5,"div"),s.Ub(6,"label"),s.Ic(7,"Podate"),s.Tb(),s.Tb(),s.Ub(8,"form",3),s.Ub(9,"mat-form-field",4),s.Ub(10,"input",5),s.bc("dateInput",(function(t){return e.applydateFilter(t.target.value)}))("ngModelChange",(function(t){return e.frmdate=t})),s.Tb(),s.Pb(11,"mat-datepicker-toggle",6),s.Pb(12,"mat-datepicker",null,7),s.Tb(),s.Ub(14,"mat-form-field",4),s.Ub(15,"input",8),s.bc("ngModelChange",(function(t){return e.todate=t}))("dateInput",(function(t){return e.applydateFilter(t.target.value)})),s.Tb(),s.Pb(16,"mat-datepicker-toggle",6),s.Pb(17,"mat-datepicker",null,9),s.Tb(),s.Ub(19,"mat-form-field",4),s.Ub(20,"input",10),s.bc("keyup",(function(t){return e.applyFilter(t.target.value)})),s.Tb(),s.Tb(),s.Ub(21,"mat-form-field",4),s.Ub(22,"input",11),s.bc("keyup",(function(t){return e.applyFilter(t.target.value)})),s.Tb(),s.Tb(),s.Tb(),s.Ub(23,"div",12),s.Ub(24,"mat-form-field",4),s.Ub(25,"input",13),s.bc("keyup",(function(t){return e.applyFilter(t.target.value)})),s.Tb(),s.Tb(),s.Ub(26,"mat-form-field",4),s.Ub(27,"input",14),s.bc("keyup",(function(t){return e.applyFilter(t.target.value)})),s.Tb(),s.Tb(),s.Ub(28,"div",15),s.Ub(29,"button",16),s.bc("click",(function(){return e.ExportExcel()})),s.Ub(30,"mat-icon"),s.Ic(31,"download"),s.Tb(),s.Ic(32,"Download"),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Tb(),s.Ub(33,"div"),s.Ub(34,"label",17),s.Ic(35,"Order Details"),s.Tb(),s.Ub(36,"div",18),s.Ub(37,"table",19),s.Sb(38,20),s.Gc(39,y,2,0,"th",21),s.Gc(40,P,2,1,"td",22),s.Rb(),s.Sb(41,23),s.Gc(42,S,2,0,"th",21),s.Gc(43,w,3,4,"td",22),s.Rb(),s.Sb(44,24),s.Gc(45,T,2,0,"th",21),s.Gc(46,D,2,1,"td",22),s.Rb(),s.Sb(47,25),s.Gc(48,M,2,0,"th",21),s.Gc(49,I,2,1,"td",22),s.Rb(),s.Sb(50,26),s.Gc(51,N,2,0,"th",21),s.Gc(52,U,2,1,"td",22),s.Rb(),s.Sb(53,27),s.Gc(54,k,2,0,"th",21),s.Gc(55,v,2,1,"td",22),s.Rb(),s.Sb(56,28),s.Gc(57,F,2,0,"th",21),s.Gc(58,_,2,1,"td",22),s.Rb(),s.Sb(59,29),s.Gc(60,R,2,0,"th",21),s.Gc(61,G,2,1,"td",22),s.Rb(),s.Sb(62,30),s.Gc(63,A,2,0,"th",21),s.Gc(64,E,2,1,"td",22),s.Rb(),s.Gc(65,K,1,2,"tr",31),s.Gc(66,z,1,0,"tr",32),s.Tb(),s.Tb(),s.Tb()),2&t){const t=s.uc(13),a=s.uc(18);s.Cb(10),s.mc("matDatepicker",t)("formControl",e.fdate)("ngModel",e.frmdate),s.Cb(1),s.mc("for",t),s.Cb(4),s.mc("matDatepicker",a)("formControl",e.tdate)("ngModel",e.todate),s.Cb(1),s.mc("for",a),s.Cb(4),s.mc("formControl",e.dealerFilter),s.Cb(2),s.mc("formControl",e.sapNoFilter),s.Cb(3),s.mc("formControl",e.refnoFilter),s.Cb(2),s.mc("formControl",e.partnoFilter),s.Cb(10),s.mc("dataSource",e.dataSource),s.Cb(28),s.mc("matHeaderRowDef",e.displayedColumns)("matHeaderRowDefSticky",!0),s.Cb(1),s.mc("matRowDefColumns",e.displayedColumns)}},directives:[o.y,o.o,o.p,u.c,h.b,g.b,o.c,o.n,o.f,g.d,u.g,g.a,C.b,O.a,l.j,l.c,l.e,l.b,l.g,l.i,l.d,l.a,l.f,l.h],pipes:[n.f],styles:[".example-form[_ngcontent-%COMP%]{max-width:500px}.tabWith[_ngcontent-%COMP%]{width:100%}footer[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{font-family:sans-serif}label[_ngcontent-%COMP%]{display:inline-block;max-width:100%;margin-bottom:5px;font-weight:700;font-size:15px;color:rgba(49,106,211,.87)}select[_ngcontent-%COMP%]{font-size:.9rem;padding:2px 5px}.dispCol[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:13%}.dispFlx[_ngcontent-%COMP%]{display:flex;justify-content:space-around!important;padding:0 10px}.lblwrng[_ngcontent-%COMP%]{color:#b22222;font-size:smaller;padding-left:25px}.homePad[_ngcontent-%COMP%]{padding:0 35px 0 72px;background-color:#f7fbff}  .mat-typography h2{margin:0!important}.headerPad[_ngcontent-%COMP%]{padding:7px 67px 7px 111px;background-color:#f7fbff}tr[_ngcontent-%COMP%]:nth-child(2n){background-color:#eee}th[_ngcontent-%COMP%]{background-color:#337ab7;font-weight:700;color:#fff!important}table[_ngcontent-%COMP%]{font-family:tahoma;padding-left:2px;padding-right:2px;font-size:12px;background-color:#dae2e8;color:#404040;height:25px;text-transform:capitalize;vertical-align:top;clear:both}.nu-table-body[_ngcontent-%COMP%]{width:80%;max-height:500px}tr.mat-footer-row[_ngcontent-%COMP%], tr.mat-row[_ngcontent-%COMP%]{height:28px}  .mat-select-panel-wrap{max-width:calc(100% - 32px)}  .mat-form-field-appearance-fill .mat-form-field-flex{border-radius:4px 4px 0 0;background:inherit;padding:0 0 0 .65em}tr.mat-header-row[_ngcontent-%COMP%]{height:37px;background:top}td.mat-cell[_ngcontent-%COMP%], td.mat-footer-cell[_ngcontent-%COMP%], th.mat-header-cell[_ngcontent-%COMP%]{padding:0 12px!important}  .mat-cell{font-size:11px}.example-form[_ngcontent-%COMP%]{min-width:150px;width:100%;display:inline-flex;margin-left:70px}.example-full-width[_ngcontent-%COMP%]{width:100%;background:#f7fbff;border-radius:4px 4px 0 0}.fnclass[_ngcontent-%COMP%]{font-size:14px;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Oxygen,Ubuntu,Cantarell,Open Sans,Helvetica Neue,sans-serif}.dispc[_ngcontent-%COMP%]{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;display:flex;margin-inline:auto}.cntr[_ngcontent-%COMP%]{display:flex;height:-webkit-fit-content;height:-moz-fit-content;height:fit-content;margin:5px}.pr-10[_ngcontent-%COMP%]{margin-right:10px;border:1px solid #61619d!important}"]}),t})();const V=[{path:"",children:[{path:"",component:L},{path:"admin",component:L}]}];var H=a("/1cH"),J=a("Y70v"),$=a("d3UM"),Q=a("WJ5W"),q=a("FKr1");let W=(()=>{class t{}return t.\u0275mod=s.Mb({type:t}),t.\u0275inj=s.Lb({factory:function(e){return new(e||t)},providers:[],imports:[[n.c,i.i.forChild(V),r.a,H.b,J.a,$.b,u.e,Q.a,g.c,q.k]]}),t})()}}]);
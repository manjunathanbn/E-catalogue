(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{"9z63":function(t,e,o){"use strict";o.r(e),o.d(e,"ClusterModule",(function(){return P}));var s=o("ofXK"),a=o("tyNb"),n=o("H8qh"),i=o("Kdsb"),c=o("fXoL"),r=o("rxmM"),l=o("fvNU"),d=o("gren"),b=o("Kmm4"),g=o("bTqV"),u=o("NFeN"),p=o("3Pt+"),m=o("7EHt"),h=o("1zy2"),f=o("bSwM");function C(t,e){if(1&t&&(c.Ub(0,"option",22),c.Ic(1),c.Tb()),2&t){const t=e.$implicit;c.nc("value",t.ID),c.Cb(1),c.Jc(t.name)}}function I(t,e){if(1&t&&(c.Ub(0,"option",22),c.Ic(1),c.Tb()),2&t){const t=e.$implicit;c.nc("value",t.ID),c.Cb(1),c.Jc(t.name)}}function T(t,e){if(1&t&&(c.Ub(0,"option",22),c.Ic(1),c.Tb()),2&t){const t=e.$implicit;c.nc("value",t.ID),c.Cb(1),c.Jc(t.name)}}function U(t,e){if(1&t&&(c.Ub(0,"option",22),c.Ic(1),c.Tb()),2&t){const t=e.$implicit;c.nc("value",t.ID),c.Cb(1),c.Jc(t.ID)}}function v(t,e){if(1&t&&(c.Ub(0,"option",22),c.Ic(1),c.Tb()),2&t){const t=e.$implicit;c.nc("value",t.ID),c.Cb(1),c.Jc(t.name)}}function M(t,e){if(1&t){const t=c.Vb();c.Ub(0,"mat-expansion-panel",23),c.bc("opened",(function(o){c.xc(t);const s=e.index;return c.fc().openGroup(o,s)}))("closed",(function(){return c.xc(t),c.fc().panelOpenState=!1})),c.Ub(1,"mat-expansion-panel-header"),c.Ub(2,"mat-panel-title"),c.Pb(3,"img",24),c.Ub(4,"div",25),c.Ub(5,"div",26),c.Ub(6,"label",27),c.Ic(7,"Part No"),c.Tb(),c.Ub(8,"span"),c.Ic(9),c.Tb(),c.Ub(10,"label",27),c.Ic(11,"Part Desc"),c.Tb(),c.Ub(12,"span"),c.Ic(13),c.Tb(),c.Tb(),c.Ub(14,"div",28),c.Ub(15,"label",27),c.Ic(16," Models are Used "),c.Tb(),c.Ub(17,"span"),c.Ic(18),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Ub(19,"div",29),c.Ub(20,"div",30),c.Pb(21,"lib-ngx-image-zoom",31),c.Tb(),c.Ub(22,"div",32),c.Ub(23,"mat-checkbox",33),c.bc("change",(function(o){c.xc(t);const s=e.index;return c.fc().checked(s,o)}))("ngModelChange",(function(o){return c.xc(t),e.$implicit.select=o})),c.Ic(24,"Select"),c.Tb(),c.Ub(25,"div",34),c.Ub(26,"div",35),c.Ub(27,"label",27),c.Ic(28,"NDP "),c.Tb(),c.Ub(29,"span"),c.Ic(30),c.Tb(),c.Tb(),c.Ub(31,"div",35),c.Ub(32,"label",27),c.Ic(33,"MOQ"),c.Tb(),c.Ub(34,"span"),c.Ic(35),c.Tb(),c.Tb(),c.Tb(),c.Ub(36,"div",34),c.Ub(37,"div",35),c.Ub(38,"label",27),c.Ic(39,"Stock"),c.Tb(),c.Ub(40,"span"),c.Ic(41),c.Tb(),c.Tb(),c.Ub(42,"div",35),c.Ub(43,"label",27),c.Ic(44,"Remarks"),c.Tb(),c.Ub(45,"span"),c.Ic(46),c.Tb(),c.Tb(),c.Tb(),c.Ub(47,"div",34),c.Ub(48,"div",35),c.Ub(49,"label",27),c.Ic(50,"Pen.Ord.Qty"),c.Tb(),c.Ub(51,"span"),c.Ic(52),c.Tb(),c.Tb(),c.Ub(53,"div",35),c.Ub(54,"label",27),c.Ic(55,"Quantity"),c.Tb(),c.Ub(56,"span"),c.Ic(57,"\xa0 : "),c.Ub(58,"input",36),c.bc("ngModelChange",(function(o){return c.xc(t),e.$implicit.qty=o})),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Ub(59,"p",37),c.Ic(60," NDP * :this is appx.NDP. "),c.Tb(),c.Tb(),c.Tb(),c.Tb()}if(2&t){const t=e.$implicit,o=c.fc();c.Cb(3),c.nc("src",t.clusterImg,c.zc),c.Cb(6),c.Kc(" \xa0 : ",t.partNo," "),c.Cb(4),c.Kc(" \xa0 : ",t.partDesc," "),c.Cb(5),c.Kc(" \xa0 : ",t.model," "),c.Cb(3),c.mc("thumbImage",o.myThumbnail)("fullImage",o.myFullresImage)("magnification",3)("enableScrollZoom",!0)("enableLens",!0)("lensWidth",200),c.Cb(2),c.mc("ngModel",t.select),c.Cb(7),c.Kc("\xa0 :",t.ndp," "),c.Cb(5),c.Kc("\xa0 :",t.moq," "),c.Cb(6),c.Kc("\xa0 :",t.stock," "),c.Cb(5),c.Kc("\xa0 : ",t.remarks,""),c.Cb(6),c.Kc("\xa0 : ",t.penOrdQty," "),c.Cb(6),c.mc("ngModel",t.qty)("disabled",!t.select)}}const x=[{path:"",children:[{path:"",component:(()=>{class t{constructor(t,e,o,s,a){this.masterServices=t,this.commonService=e,this.customLoader=o,this.router=s,this.toaster=a,this.config={},this.myThumbnail="assets/Images/Icon/ccp_parts_old.gif",this.myFullresImage="assets/Images/Icon/ccp_parts_old.gif",this.mydefaultImage="assets/Images/Icon/ccp_parts_old.gif",this.panelOpenState=!1,this.dataSource=[],this.responseData={CCategory:[],CModel:[],CClusterDO:[],CParts:[]},this.addCart=[{custID:0,dealerID:0,cartid:0,parts:[],status:0,series:""}]}ngOnInit(){this.getClusterDetail()}imageZoom(t,e){var o,s,a,n,i;function c(t){var e,c,r;t.preventDefault(),e=function(t){var e,s=0,a=0;return t=t||window.event,e=o.getBoundingClientRect(),s=t.pageX-e.left,a=t.pageY-e.top,{x:s-=window.pageXOffset,y:a-=window.pageYOffset}}(t),(c=e.x-s.offsetWidth/2)>o.width-s.offsetWidth&&(c=o.width-s.offsetWidth),c<0&&(c=0),(r=e.y-s.offsetHeight/2)>o.height-s.offsetHeight&&(r=o.height-s.offsetHeight),r<0&&(r=0),s.style.left=c+"px",s.style.top=r+"px",a.style.backgroundPosition="-"+c*n+"px -"+r*i+"px"}alert(t+e),o=document.getElementById(t),a=document.getElementById(e),(s=document.createElement("DIV")).setAttribute("class","img-zoom-lens"),o.parentElement.insertBefore(s,o),n=a.offsetWidth/s.offsetWidth,i=a.offsetHeight/s.offsetHeight,a.style.backgroundImage="url('"+o.src+"')",a.style.backgroundSize=o.width*n+"px "+o.height*i+"px",s.addEventListener("mousemove",c),o.addEventListener("mousemove",c),s.addEventListener("touchmove",c),o.addEventListener("touchmove",c)}getClusterDetail(){this.customLoader.start(),this.masterServices.getReq("","api/Catalouge/GetClusterMaster?").subscribe(t=>{t&&200==t.statusCode&&(this.responseData=t.data,console.log("test")),t&&401==t.statusCode&&this.signout(),this.customLoader.stop()},t=>{401==t.status&&this.signout(),this.toaster.errorToastr(t.statusMessage)})}getModelwise(t){this.customLoader.start(),this.masterServices.getReq("","api/Catalouge/GetModelWise?SegID="+this.CatID).subscribe(t=>{t&&200==t.statusCode&&(this.responseData.CModel=t.data.CModel,console.log("test")),t&&401==t.statusCode&&this.signout(),this.customLoader.stop()},t=>{401==t.status&&this.signout(),this.toaster.errorToastr(t.statusMessage)})}signout(){localStorage.clear(),this.router.navigate(["/session/signin"])}searchNew(t,e,o,s){null!=t&&null!=e&&0!=e?(console.log("tetete",e,o,s),null==t&&(t=0),null==e&&(e=0),null==o&&(o=0),null==s&&(s=0),this.masterServices.getReq("","api/Catalouge/GetCatlogDetails?modelId="+e+"&CatID="+t+"&ClustId="+o+"&PartId="+s).subscribe(t=>{t&&200==t.statusCode&&(t.data.length>0?this.dataSource=t.data:this.toaster.infoToastr("No Data to Display")),t&&401==t.statusCode&&this.signout()},t=>{401==t.status&&this.signout(),this.toaster.errorToastr(t.statusMessage)})):this.toaster.warningToastr("PLease select Any one")}addToCart(){this.addCart.custID=localStorage.getItem("dealercode"),this.addCart.dealerID=localStorage.getItem("dealercode"),this.addCart.series="0";let t=[];for(let o=0;o<this.dataSource.length;o++)if(this.dataSource[o].IsSelect){if(!(this.dataSource[o].qty>0))return void this.toaster.warningToastr("Pease Enter the Qty");t.push({PART_NO:this.dataSource[o].partNo,ORDER_QTY:this.dataSource[o].qty})}this.addCart.parts=t,this.addCart.status=1;let e={custID:this.addCart.custID,dealerID:this.addCart.dealerID,status:this.addCart.status,parts:this.addCart.parts,series:this.addCart.series};this.customLoader.start(),this.masterServices.post(e,"api/Catalouge/AddUpdateToCart").subscribe(t=>{"Part Added Successfully"==t.message?(this.toaster.successToastr("Part Added Successfully"),this.commonService.sentbadge(t.data)):"Part Updated Successfully"==t.message?this.toaster.successToastr("Part Updated Successfully"):(this.toaster.warningToastr(t.statusMessage),this.commonService.sentbadge(t.data)),this.refreshPage(),t&&401==t.statusCode&&this.refreshPage()},t=>{401==t.status&&this.signout(),this.customLoader.stop(),this.toaster.errorToastr(t.statusMessage)})}getValue(t){}refreshPage(){window.location.reload()}checked(t,e){e.checked?this.dataSource[t].IsSelect=!0:(this.dataSource[t].IsSelect=!1,this.dataSource[t].qty=null)}openGroup(t,e){this.panelOpenState=!0,this.myFullresImage=this.dataSource[e].clusterImg,this.myThumbnail=this.dataSource[e].clusterImg}}return t.\u0275fac=function(e){return new(e||t)(c.Ob(r.a),c.Ob(l.a),c.Ob(d.c),c.Ob(a.f),c.Ob(b.a))},t.\u0275cmp=c.Ib({type:t,selectors:[["app-cluster-home"]],viewQuery:function(t,e){var o;1&t&&c.Nc(i.b,!0),2&t&&c.tc(o=c.cc())&&(e.directiveScroll=o.first)},decls:54,vars:11,consts:[[1,"homePad"],[1,"clusterHead","spBt"],[1,"posR"],["mat-stroked-button","","color","primary",1,"pr-10",3,"click"],[1,"srlDiv",3,"perfectScrollbar"],[1,"dispFlx","mobCol"],[1,"dispCol","mpb-10"],["for","cat"],["name","cat","id","cat",3,"ngModel","ngModelChange","change"],["value","0"],[3,"value",4,"ngFor","ngForOf"],["for","mod"],["name","mod","id","mod",3,"ngModel","ngModelChange"],["for","clus"],["name","mod","id","clus",3,"ngModel","ngModelChange"],["for","part"],["name","mod","id","part",3,"ngModel","ngModelChange"],["for","des"],["name","mod","id","des"],[1,"posR","mpb-10"],[1,"accrdscroll"],[3,"opened","closed",4,"ngFor","ngForOf"],[3,"value"],[3,"opened","closed"],["onerror","this.src='assets/Images/Icon/ccp_parts_old.gif'","alt","alternative",1,"mdWt","mwt",3,"src"],[1,"lisHead","mDesign"],[1,"blClr"],["for",""],[1,"brClr"],[1,"flex","mobCol"],[1,"col-md-6","col-sm-12"],["onerror","mydefaultImage","alt","mydefaultImage",3,"thumbImage","fullImage","magnification","enableScrollZoom","enableLens","lensWidth"],[1,"col-md-6","col-sm-12","li-4"],[1,"mr-10",3,"ngModel","change","ngModelChange"],[1,"col-md-12","col-sm-12","flex"],[1,"col-md-6","col-sm-6","flex"],["type","number","min","0",1,"qtyWt",3,"ngModel","disabled","ngModelChange"],[1,"clrCls"]],template:function(t,e){1&t&&(c.Ub(0,"div",0),c.Ub(1,"div",1),c.Ub(2,"h2"),c.Ic(3,"Parts Catlog Search"),c.Tb(),c.Ub(4,"div",2),c.Ub(5,"button",3),c.bc("click",(function(){return e.addToCart()})),c.Ub(6,"mat-icon"),c.Ic(7,"add_shopping_cart"),c.Tb(),c.Ic(8," Add To Cart"),c.Tb(),c.Tb(),c.Tb(),c.Ub(9,"div",4),c.Ub(10,"div",5),c.Ub(11,"div",6),c.Ub(12,"label",7),c.Ic(13,"Category Wise :"),c.Tb(),c.Ub(14,"select",8),c.bc("ngModelChange",(function(t){return e.CatID=t}))("change",(function(t){return e.getModelwise(t.target.value)})),c.Ub(15,"option",9),c.Ic(16,"SELECT ALL"),c.Tb(),c.Gc(17,C,2,2,"option",10),c.Tb(),c.Tb(),c.Ub(18,"div",6),c.Ub(19,"label",11),c.Ic(20,"Model Wise :"),c.Tb(),c.Ub(21,"select",12),c.bc("ngModelChange",(function(t){return e.modelId=t})),c.Ub(22,"option",9),c.Ic(23,"SELECT ALL"),c.Tb(),c.Gc(24,I,2,2,"option",10),c.Tb(),c.Tb(),c.Ub(25,"div",6),c.Ub(26,"label",13),c.Ic(27,"Cluster Wise :"),c.Tb(),c.Ub(28,"select",14),c.bc("ngModelChange",(function(t){return e.ClustId=t})),c.Ub(29,"option",9),c.Ic(30,"SELECT ALL"),c.Tb(),c.Gc(31,T,2,2,"option",10),c.Tb(),c.Tb(),c.Ub(32,"div",6),c.Ub(33,"label",15),c.Ic(34,"Part Number :"),c.Tb(),c.Ub(35,"select",16),c.bc("ngModelChange",(function(t){return e.PartId=t})),c.Ub(36,"option",9),c.Ic(37,"SELECT ALL"),c.Tb(),c.Gc(38,U,2,2,"option",10),c.Tb(),c.Tb(),c.Ub(39,"div",6),c.Ub(40,"label",17),c.Ic(41,"Part Description :"),c.Tb(),c.Ub(42,"select",18),c.Ub(43,"option",9),c.Ic(44,"SELECT ALL"),c.Tb(),c.Gc(45,v,2,2,"option",10),c.Tb(),c.Tb(),c.Ub(46,"div",19),c.Ub(47,"button",3),c.bc("click",(function(){return e.searchNew(e.CatID,e.modelId,e.ClustId,e.PartId)})),c.Ub(48,"mat-icon"),c.Ic(49,"search"),c.Tb(),c.Ic(50,"Search"),c.Tb(),c.Tb(),c.Tb(),c.Ub(51,"div",20),c.Ub(52,"mat-accordion"),c.Gc(53,M,61,18,"mat-expansion-panel",21),c.Tb(),c.Tb(),c.Tb(),c.Tb()),2&t&&(c.Cb(9),c.mc("perfectScrollbar",e.config),c.Cb(5),c.mc("ngModel",e.CatID),c.Cb(3),c.mc("ngForOf",e.responseData.CCategory),c.Cb(4),c.mc("ngModel",e.modelId),c.Cb(3),c.mc("ngForOf",e.responseData.CModel),c.Cb(4),c.mc("ngModel",e.ClustId),c.Cb(3),c.mc("ngForOf",e.responseData.CClusterDO),c.Cb(4),c.mc("ngModel",e.PartId),c.Cb(3),c.mc("ngForOf",e.responseData.CParts),c.Cb(7),c.mc("ngForOf",e.responseData.CParts),c.Cb(8),c.mc("ngForOf",e.dataSource))},directives:[g.b,u.a,i.b,p.v,p.n,p.q,p.r,p.x,s.m,m.a,m.c,m.d,m.e,h.a,f.a,p.s,p.c],styles:[".tabWith[_ngcontent-%COMP%]{width:100%}footer[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{font-family:sans-serif}label[_ngcontent-%COMP%]{display:inline-block;max-width:100%;margin-bottom:5px;font-weight:700}select[_ngcontent-%COMP%]{font-size:.9rem;padding:2px 5px}.dispCol[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:13%}.dispFlx[_ngcontent-%COMP%]{display:flex;justify-content:space-around!important;background:#fff;padding:10px 10px 18px;border-bottom:1px solid rgba(232,229,229,.63)}.homePad[_ngcontent-%COMP%]{padding:10px;background-color:#f7fbff}.clusterHead[_ngcontent-%COMP%]{padding:5px}.mat-expansion-panel[_ngcontent-%COMP%]   .mat-expansion-panel-header[_ngcontent-%COMP%]{height:auto!important;padding-top:5px}.mdWt[_ngcontent-%COMP%]{width:5%}.col[_ngcontent-%COMP%]{display:flex;flex-direction:column}.li-4[_ngcontent-%COMP%]{line-height:2}.lisHead[_ngcontent-%COMP%]{position:relative;display:flex;flex-direction:column;justify-content:center;left:40px;font-size:12px}.brClr[_ngcontent-%COMP%]{color:#8b008b}.blClr[_ngcontent-%COMP%]{color:#00f}.qtyWt[_ngcontent-%COMP%]{width:50%}@media (max-width:768px){.mDesign[_ngcontent-%COMP%]{position:relative;left:10px!important;font-size:10px;line-height:1}.mwt[_ngcontent-%COMP%]{width:56px!important}}.spBt[_ngcontent-%COMP%]{display:flex;justify-content:space-between}.pr-10[_ngcontent-%COMP%]{border:1px solid #61619d!important}.img-zoom-container[_ngcontent-%COMP%]{position:relative}.img-zoom-lens[_ngcontent-%COMP%]{position:absolute;border:1px solid #d4d4d4;width:40px;height:40px}.img-zoom-result[_ngcontent-%COMP%]{border:1px solid #d4d4d4;width:300px;height:300px}.clrCls[_ngcontent-%COMP%]{color:green}.srlDiv[_ngcontent-%COMP%]{position:relative;height:calc(100% - 200px)}.accrdscroll[_ngcontent-%COMP%]{height:425px;overflow-y:scroll}"]}),t})()}]}];let P=(()=>{class t{}return t.\u0275mod=c.Mb({type:t}),t.\u0275inj=c.Lb({factory:function(e){return new(e||t)},providers:[],imports:[[s.c,a.i.forChild(x),n.a]]}),t})()}}]);
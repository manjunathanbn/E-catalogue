(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{mlYt:function(t,e,n){"use strict";n.r(e),n.d(e,"CatalogueModule",(function(){return _t}));var i=n("ofXK"),a=n("tyNb"),o=n("H8qh"),s=n("Kdsb"),r=n("1oag"),c=n("fXoL"),l=n("rxmM"),d=n("0IaG"),b=n("Kmm4"),p=n("bTqV"),m=n("NFeN"),u=n("3Pt+"),g=n("+0xr"),h=n("STbY");function f(t,e){if(1&t&&(c.Ub(0,"option",26),c.Ic(1),c.Tb()),2&t){const t=e.$implicit;c.nc("value",t.CATEGORY_ID),c.Cb(1),c.Jc(t.name)}}function C(t,e){if(1&t&&(c.Ub(0,"option",26),c.Ic(1),c.Tb()),2&t){const t=e.$implicit;c.nc("value",t.SERIES),c.Cb(1),c.Lc("",t.DESCRIPTION," / ",t.MODEL_NAME,"")}}function x(t,e){1&t&&(c.Ub(0,"th",27),c.Ic(1," S.No "),c.Tb())}function M(t,e){if(1&t&&(c.Ub(0,"td",28),c.Ic(1),c.Tb()),2&t){const t=e.index;c.Cb(1),c.Kc(" ",t+1," ")}}function T(t,e){1&t&&(c.Ub(0,"th",27),c.Ic(1," SEGMENT "),c.Tb())}function I(t,e){if(1&t&&(c.Ub(0,"td",28),c.Ic(1),c.Tb()),2&t){const t=e.$implicit;c.Cb(1),c.Kc(" ",t.CATEGORY_NAME," ")}}function v(t,e){1&t&&(c.Ub(0,"th",27),c.Ic(1," SERIES"),c.Tb())}function P(t,e){if(1&t&&(c.Ub(0,"td",28),c.Ic(1),c.Tb()),2&t){const t=e.$implicit;c.Cb(1),c.Kc(" ",t.DESCRIPTION," ")}}function O(t,e){1&t&&(c.Ub(0,"th",27),c.Ic(1,"MODEL NAME "),c.Tb())}function D(t,e){if(1&t&&(c.Ub(0,"td",28),c.Ic(1),c.Tb()),2&t){const t=e.$implicit;c.Cb(1),c.Kc(" ",t.MODEL_NAME," ")}}function U(t,e){1&t&&(c.Ub(0,"th",27),c.Ic(1," NO. OF ASSY "),c.Tb())}function S(t,e){if(1&t&&(c.Ub(0,"td",28),c.Ic(1),c.Tb()),2&t){const t=e.$implicit;c.Cb(1),c.Kc(" ",t.TOT_PARTS,"")}}function _(t,e){1&t&&(c.Ub(0,"th",27),c.Ic(1," Edit"),c.Tb())}function y(t,e){if(1&t){const t=c.Vb();c.Ub(0,"td",28),c.Ub(1,"button",29),c.Ub(2,"mat-icon"),c.Ic(3,"more_vert"),c.Tb(),c.Tb(),c.Ub(4,"mat-menu",30,31),c.Ub(6,"button",32),c.bc("click",(function(){c.xc(t);const n=e.$implicit;return c.fc().editData(n,2)})),c.Ic(7," Block "),c.Tb(),c.Ub(8,"button",32),c.bc("click",(function(){c.xc(t);const n=e.$implicit;return c.fc().editData(n,3)})),c.Ic(9," Delete "),c.Tb(),c.Tb(),c.Tb()}if(2&t){const t=c.uc(5);c.Cb(1),c.mc("matMenuTriggerFor",t)}}function w(t,e){1&t&&c.Pb(0,"tr",33)}function A(t,e){1&t&&c.Pb(0,"tr",34)}let N=(()=>{class t{constructor(t,e,n,i){this.router=t,this.masterdata=e,this.dialog=n,this.toaster=i,this.config={},this.displayedColumns=["sNo","head","name","model","parts","edit"],this.dataSource=[{id:1,head:"Moped",name:"TVS XL",parts:20}]}ngOnInit(){this.getMenuDetail(),this.getMenuList(1)}createNew(){this.router.navigate(["/adminCat/detail"])}getMenuDetail(){this.masterdata.getReq("","api/Catalouge/GetMenuCategory?dealerID="+localStorage.getItem("dealercode")).subscribe(t=>{t&&200==t.statusCode&&(this.headerList=t.data.filter(t=>1==t.is_vehicle))},t=>{this.toaster.errorToastr(t.statusMessage)})}getMenuList(t){this.masterdata.getReq("","api/Catalouge/GetMenuList?dealerID="+localStorage.getItem("dealercode")+"&type="+Number(t)).subscribe(t=>{t&&200==t.statusCode&&(this.dataSource=t.data,this.dataSourceTemp=this.dataSource)},t=>{this.toaster.errorToastr(t.statusMessage)})}onChange(t){this.dataSource=t?this.dataSourceTemp.filter(e=>e.CATEGORY_ID==t):this.dataSourceTemp}onseriesChange(t){this.dataSource=this.dataSourceTemp.filter(t?e=>e.SERIES==t:t=>t.CATEGORY_ID==this.mainMenu)}openbtnDialog(t){this.openDialog(t)}openDialog(t){this.dialog.open(r.a,{data:{upldTyp:t}}).afterClosed().subscribe(t=>{})}editData(t,e){t&&this.masterdata.post(t,"api/CatalougeMaster/DeleteOrBlkCatalouge").subscribe(n=>{200==n.statusCode?(3==e&&this.toaster.successToastr(n.data),this.toaster.successToastr(n.data),this.dataSource=this.dataSource.filter(e=>e!==t).map((t,e)=>(t.position=e+1,t))):this.toaster.errorToastr(n.data)},t=>{401==t.status&&this.toaster.errorToastr(t.statusMessage)})}}return t.\u0275fac=function(e){return new(e||t)(c.Ob(a.f),c.Ob(l.a),c.Ob(d.b),c.Ob(b.a))},t.\u0275cmp=c.Ib({type:t,selectors:[["app-catalogue-home"]],viewQuery:function(t,e){var n;1&t&&c.Nc(s.b,!0),2&t&&c.tc(n=c.cc())&&(e.directiveScroll=n.first)},decls:56,vars:7,consts:[[1,"disBtn","headDisp"],[1,"flx"],["mat-stroked-button","","color","primary",1,"h-45","r-15","pr-10",3,"click"],[1,"upload-btn-wrapper","wrChange"],["mat-stroked-button","","color","primary",1,"h-45","pr-10",3,"click"],[1,"pa-30","srlDiv","mat-elevation-z8",3,"perfectScrollbar"],[1,"dispFlx","mobCol"],[1,"dispCol","mpb-10"],["for","cat"],["name","cat","id","cat",1,"stCls",3,"ngModel","ngModelChange","change"],["value",""],[3,"value",4,"ngFor","ngForOf"],["for","mod"],["name","mod","id","mod",1,"stCls",3,"change"],[1,"nu-table-body"],["mat-table","",1,"mat-elevation-z8","tabWith",3,"dataSource"],["matColumnDef","sNo"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","head"],["matColumnDef","name"],["matColumnDef","model"],["matColumnDef","parts"],["matColumnDef","edit"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],[3,"value"],["mat-header-cell",""],["mat-cell",""],["mat-icon-button","","aria-label","Example icon-button with a menu",3,"matMenuTriggerFor"],["xPosition","after"],["menu","matMenu"],["mat-menu-item","",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(c.Ub(0,"div"),c.Ub(1,"div",0),c.Ub(2,"h2"),c.Ic(3,"Catalogue List"),c.Tb(),c.Ub(4,"div",1),c.Ub(5,"button",2),c.bc("click",(function(){return e.openbtnDialog("image")})),c.Ub(6,"mat-icon"),c.Ic(7,"upload"),c.Tb(),c.Ic(8," ImagesUpload"),c.Tb(),c.Ub(9,"div",3),c.Ub(10,"button",2),c.bc("click",(function(){return e.openbtnDialog("file")})),c.Ub(11,"mat-icon"),c.Ic(12,"upload"),c.Tb(),c.Ic(13,"Export/Import"),c.Tb(),c.Tb(),c.Ub(14,"button",4),c.bc("click",(function(){return e.createNew()})),c.Ub(15,"mat-icon"),c.Ic(16,"add"),c.Tb(),c.Ic(17,"Create New"),c.Tb(),c.Tb(),c.Tb(),c.Ub(18,"div",5),c.Ub(19,"div",6),c.Ub(20,"div",7),c.Ub(21,"label",8),c.Ic(22,"SEGMENT"),c.Tb(),c.Ub(23,"select",9),c.bc("ngModelChange",(function(t){return e.mainMenu=t}))("change",(function(t){return e.onChange(t.target.value)})),c.Ub(24,"option",10),c.Ic(25,"Search Header"),c.Tb(),c.Gc(26,f,2,2,"option",11),c.Tb(),c.Tb(),c.Ub(27,"div",7),c.Ub(28,"label",12),c.Ic(29,"MODEL"),c.Tb(),c.Ub(30,"select",13),c.bc("change",(function(t){return e.onseriesChange(t.target.value)})),c.Ub(31,"option",10),c.Ic(32,"Search Name"),c.Tb(),c.Gc(33,C,2,3,"option",11),c.Tb(),c.Tb(),c.Tb(),c.Ub(34,"div",14),c.Ub(35,"table",15),c.Sb(36,16),c.Gc(37,x,2,0,"th",17),c.Gc(38,M,2,1,"td",18),c.Rb(),c.Sb(39,19),c.Gc(40,T,2,0,"th",17),c.Gc(41,I,2,1,"td",18),c.Rb(),c.Sb(42,20),c.Gc(43,v,2,0,"th",17),c.Gc(44,P,2,1,"td",18),c.Rb(),c.Sb(45,21),c.Gc(46,O,2,0,"th",17),c.Gc(47,D,2,1,"td",18),c.Rb(),c.Sb(48,22),c.Gc(49,U,2,0,"th",17),c.Gc(50,S,2,1,"td",18),c.Rb(),c.Sb(51,23),c.Gc(52,_,2,0,"th",17),c.Gc(53,y,10,1,"td",18),c.Rb(),c.Gc(54,w,1,0,"tr",24),c.Gc(55,A,1,0,"tr",25),c.Tb(),c.Tb(),c.Tb(),c.Tb()),2&t&&(c.Cb(18),c.mc("perfectScrollbar",e.config),c.Cb(5),c.mc("ngModel",e.mainMenu),c.Cb(3),c.mc("ngForOf",e.headerList),c.Cb(7),c.mc("ngForOf",e.dataSource),c.Cb(2),c.mc("dataSource",e.dataSource),c.Cb(19),c.mc("matHeaderRowDef",e.displayedColumns),c.Cb(1),c.mc("matRowDefColumns",e.displayedColumns))},directives:[p.b,m.a,s.b,u.v,u.n,u.q,u.r,u.x,i.m,g.j,g.c,g.e,g.b,g.g,g.i,g.d,g.a,h.c,h.d,h.a,g.f,g.h],styles:[".pa-30[_ngcontent-%COMP%]{margin:7px}.pa-30[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}.dispCol[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:15%}.dispCol[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{height:25px}.pr-10[_ngcontent-%COMP%]{margin-right:10px;border:1px solid #61619d!important}.dispFlx[_ngcontent-%COMP%]{display:flex;justify-content:space-around!important;background:#fff;padding:5px;border-bottom:1px solid rgba(232,229,229,.63)}.headDisp[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:7px}.btn[_ngcontent-%COMP%]{border:2px solid grey;color:grey;background-color:#fff;padding:8px 20px;border-radius:8px;font-size:20px;font-weight:700}.upload-btn-wrapper[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{font-size:100px;position:absolute;left:0;top:0;opacity:0}.wrChange[_ngcontent-%COMP%]{font-size:20px!important;width:130px!important;position:relative!important;height:45px}.h-45[_ngcontent-%COMP%]{height:38px}.pd[_ngcontent-%COMP%]{padding:4px 10px!important}.r-15[_ngcontent-%COMP%]{position:relative;right:15px;height:40px}.nu-table-body[_ngcontent-%COMP%]{overflow-y:auto;max-height:442px}.stCls[_ngcontent-%COMP%]{height:25px;border-radius:5px;border-color:rgba(49,106,211,.87)}.srlDiv[_ngcontent-%COMP%]{height:calc(100% - 100px);position:relative;background-repeat:no-repeat!important}td.mat-cell[_ngcontent-%COMP%], td.mat-footer-cell[_ngcontent-%COMP%]{border-bottom-width:1px;border-bottom-style:solid}  .mat-icon-button{height:33px!important}tr.mat-header-row[_ngcontent-%COMP%]{height:30px;background-color:#adbecb!important}tr.mat-footer-row[_ngcontent-%COMP%], tr.mat-row[_ngcontent-%COMP%]{height:36px}"]}),t})();var E=n("ht4G"),R=n("fvNU"),k=n("kmnG"),G=n("d3UM"),L=n("FKr1"),V=n("jhN1");let z=(()=>{class t{constructor(t){this.sanitizer=t,this.files=new c.o,this.background="#eee"}onDragOver(t){t.preventDefault(),t.stopPropagation(),this.background="#999"}onDragLeave(t){t.preventDefault(),t.stopPropagation(),this.background="#eee"}onDrop(t){t.preventDefault(),t.stopPropagation(),this.background="#eee";let e=[];for(let n=0;n<t.dataTransfer.files.length;n++){const i=t.dataTransfer.files[n],a=this.sanitizer.bypassSecurityTrustUrl(window.URL.createObjectURL(i));e.push({file:i,url:a})}e.length>0&&this.files.emit(e)}}return t.\u0275fac=function(e){return new(e||t)(c.Ob(V.b))},t.\u0275dir=c.Jb({type:t,selectors:[["","appDrag",""]],hostVars:2,hostBindings:function(t,e){1&t&&c.bc("dragover",(function(t){return e.onDragOver(t)}))("dragleave",(function(t){return e.onDragLeave(t)}))("drop",(function(t){return e.onDrop(t)})),2&t&&c.Dc("background",e.background)},outputs:{files:"files"}}),t})();var F=n("qFsG"),B=n("EUZL");function K(t,e){if(1&t){const t=c.Vb();c.Ub(0,"div",43),c.bc("files",(function(e){c.xc(t);const n=c.fc().index;return c.fc().filesDropped(e,n)})),c.Ub(1,"div",44),c.Ub(2,"div",45),c.Ub(3,"mat-icon",46),c.Ic(4,"cloud_upload_outline"),c.Tb(),c.Ub(5,"span"),c.Ic(6," Drop your file here! "),c.Tb(),c.Ub(7,"span"),c.Ic(8," Or "),c.Tb(),c.Ub(9,"div",47),c.Ub(10,"button",48),c.Ic(11,"Browse a file"),c.Tb(),c.Ub(12,"input",49),c.bc("change",(function(e){c.xc(t);const n=c.fc().index;return c.fc().filesDropped(e,n)})),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Tb()}}function $(t,e){if(1&t){const t=c.Vb();c.Ub(0,"div",50),c.Ub(1,"div",51),c.Ub(2,"h4"),c.Ic(3,"Set Cordinates Size"),c.Tb(),c.Ub(4,"div",52),c.Ub(5,"div",53),c.bc("click",(function(){return c.xc(t),c.fc(2).changeSize("sm")})),c.Tb(),c.Ub(6,"div",54),c.bc("click",(function(){return c.xc(t),c.fc(2).changeSize("md")})),c.Tb(),c.Ub(7,"div",55),c.bc("click",(function(){return c.xc(t),c.fc(2).changeSize("lg")})),c.Tb(),c.Ub(8,"mat-form-field",56),c.Ub(9,"mat-label"),c.Ic(10,"Custome Value"),c.Tb(),c.Ub(11,"input",57),c.bc("ngModelChange",(function(e){return c.xc(t),c.fc(2).pointSize=e})),c.Tb(),c.Tb(),c.Tb(),c.Ub(12,"label"),c.Ic(13),c.Tb(),c.Tb(),c.Ub(14,"canvas",58),c.bc("mouseover",(function(e){c.xc(t);const n=c.fc().index;return c.fc().enterFun(e,n)}))("click",(function(e){c.xc(t);const n=c.fc().index;return c.fc().getPosition(e,n)})),c.Tb(),c.Tb()}if(2&t){const t=c.fc().$implicit,e=c.fc();c.mc("perfectScrollbar",e.config),c.Cb(11),c.mc("ngModel",e.pointSize),c.Cb(2),c.Kc("FIG NO: ",e.figNo,""),c.Cb(1),c.Dc("background-image","url("+t.img+")")}}function X(t,e){1&t&&(c.Ub(0,"th",59),c.Ic(1," S.No "),c.Tb())}function Q(t,e){if(1&t&&(c.Ub(0,"td",60),c.Ic(1),c.Tb()),2&t){const t=e.$implicit;c.Cb(1),c.Kc(" ",t.REF_NO," ")}}function Y(t,e){1&t&&(c.Ub(0,"th",59),c.Ic(1," PART NO"),c.Tb())}function q(t,e){if(1&t&&(c.Ub(0,"td",60),c.Ic(1),c.Tb()),2&t){const t=e.$implicit;c.Cb(1),c.Kc(" ",t.PART_NO," ")}}function H(t,e){1&t&&(c.Ub(0,"th",59),c.Ic(1," DESCRIPTION"),c.Tb())}function j(t,e){if(1&t&&(c.Ub(0,"td",60),c.Ic(1),c.Tb()),2&t){const t=e.$implicit;c.Cb(1),c.Kc(" ",t.PART_DESC," ")}}function J(t,e){1&t&&(c.Ub(0,"th",59),c.Ic(1," QV"),c.Tb())}function W(t,e){if(1&t&&(c.Ub(0,"td",60),c.Ic(1),c.Tb()),2&t){const t=e.$implicit;c.Cb(1),c.Kc(" ",t.QV," ")}}function Z(t,e){1&t&&(c.Ub(0,"th",61),c.Ic(1," NDP"),c.Tb())}function tt(t,e){if(1&t&&(c.Ub(0,"td",62),c.Ic(1),c.gc(2,"number"),c.Tb()),2&t){const t=e.$implicit;c.Cb(1),c.Jc(c.ic(2,1,t.NDP,"1.2-2"))}}function et(t,e){1&t&&(c.Ub(0,"th",61),c.Ic(1," MOQ"),c.Tb())}function nt(t,e){if(1&t&&(c.Ub(0,"td",62),c.Ic(1),c.Tb()),2&t){const t=e.$implicit;c.Cb(1),c.Kc(" ",t.MOQ," ")}}function it(t,e){1&t&&(c.Ub(0,"th",61),c.Ic(1," REMARKS"),c.Tb())}function at(t,e){if(1&t&&(c.Ub(0,"td",62),c.Ic(1),c.Tb()),2&t){const t=e.$implicit;c.Cb(1),c.Kc(" ",t.REMARKS," ")}}function ot(t,e){1&t&&(c.Ub(0,"th",63),c.Ic(1," STATUS"),c.Tb())}function st(t,e){if(1&t){const t=c.Vb();c.Ub(0,"td",62),c.Ub(1,"select",64),c.bc("ngModelChange",(function(n){return c.xc(t),e.$implicit.ACTIVE=n})),c.Ub(2,"option",65),c.Ic(3,"Active"),c.Tb(),c.Ub(4,"option",66),c.Ic(5,"Inactive"),c.Tb(),c.Tb(),c.Tb()}if(2&t){const t=e.$implicit;c.Cb(1),c.mc("disabled",!0)("ngModel",t.ACTIVE)}}function rt(t,e){1&t&&(c.Ub(0,"th",61),c.Ic(1," EDIT"),c.Tb())}function ct(t,e){if(1&t){const t=c.Vb();c.Ub(0,"td",62),c.Ub(1,"button",67),c.Ub(2,"mat-icon"),c.Ic(3,"more_vert"),c.Tb(),c.Tb(),c.Ub(4,"mat-menu",68,69),c.Ub(6,"button",70),c.bc("click",(function(){c.xc(t);const n=e.$implicit;return c.fc(2).editData(n)})),c.Ic(7," Edit "),c.Tb(),c.Ub(8,"button",71),c.Ic(9," Block "),c.Tb(),c.Ub(10,"button",71),c.Ic(11," Delete "),c.Tb(),c.Tb(),c.Tb()}if(2&t){const t=c.uc(5);c.Cb(1),c.mc("matMenuTriggerFor",t)}}function lt(t,e){1&t&&c.Pb(0,"tr",72)}function dt(t,e){1&t&&c.Pb(0,"tr",73)}function bt(t,e){if(1&t){const t=c.Vb();c.Ub(0,"div",4),c.Ub(1,"div",5),c.Gc(2,K,13,0,"div",6),c.Gc(3,$,15,5,"div",7),c.Tb(),c.Ub(4,"div",8),c.Ub(5,"div",9),c.Ub(6,"h3"),c.Ic(7,"ASSEMBLY PARTS DETAILS"),c.Tb(),c.Ub(8,"div"),c.Ub(9,"button",10),c.bc("click",(function(){return c.xc(t),c.fc().uploadImage()})),c.Ub(10,"mat-icon"),c.Ic(11,"upload"),c.Tb(),c.Ic(12,"Image"),c.Tb(),c.Ub(13,"div",11),c.Ub(14,"button",12),c.Ub(15,"mat-icon"),c.Ic(16,"upload"),c.Tb(),c.Ic(17,"Export"),c.Tb(),c.Ub(18,"input",13),c.bc("change",(function(e){return c.xc(t),c.fc().uploadedFile(e)})),c.Tb(),c.Tb(),c.Ub(19,"button",14),c.bc("click",(function(){return c.xc(t),c.fc().save()})),c.Ub(20,"mat-icon"),c.Ic(21,"save"),c.Tb(),c.Ic(22,"Save"),c.Tb(),c.Ub(23,"button",14),c.bc("click",(function(){return c.xc(t),c.fc().goBack()})),c.Ub(24,"mat-icon"),c.Ic(25,"cancel"),c.Tb(),c.Ic(26," Cancel"),c.Tb(),c.Tb(),c.Tb(),c.Ub(27,"div",15),c.Ub(28,"div",16),c.Ub(29,"div",17),c.Ub(30,"label",18),c.Ic(31,"ASSEMBLY ID"),c.Tb(),c.Ub(32,"select",19),c.Ub(33,"option",20),c.Ic(34),c.Tb(),c.Tb(),c.Tb(),c.Ub(35,"div",17),c.Ub(36,"label",21),c.Ic(37,"MODEL"),c.Tb(),c.Ub(38,"select",22),c.Ub(39,"option",23),c.Ic(40),c.Tb(),c.Tb(),c.Tb(),c.Ub(41,"div",17),c.Ub(42,"label",21),c.Ic(43,"ASSEMBL NAME"),c.Tb(),c.Ub(44,"select",22),c.Ub(45,"option",24),c.Ic(46),c.gc(47,"uppercase"),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Ub(48,"div",25),c.Ub(49,"table",26),c.Sb(50,27),c.Gc(51,X,2,0,"th",28),c.Gc(52,Q,2,1,"td",29),c.Rb(),c.Sb(53,30),c.Gc(54,Y,2,0,"th",28),c.Gc(55,q,2,1,"td",29),c.Rb(),c.Sb(56,31),c.Gc(57,H,2,0,"th",28),c.Gc(58,j,2,1,"td",29),c.Rb(),c.Sb(59,32),c.Gc(60,J,2,0,"th",28),c.Gc(61,W,2,1,"td",29),c.Rb(),c.Sb(62,33),c.Gc(63,Z,2,0,"th",34),c.Gc(64,tt,3,4,"td",35),c.Rb(),c.Sb(65,36),c.Gc(66,et,2,0,"th",34),c.Gc(67,nt,2,1,"td",35),c.Rb(),c.Sb(68,37),c.Gc(69,it,2,0,"th",34),c.Gc(70,at,2,1,"td",35),c.Rb(),c.Sb(71,38),c.Gc(72,ot,2,0,"th",39),c.Gc(73,st,6,2,"td",35),c.Rb(),c.Sb(74,40),c.Gc(75,rt,2,0,"th",34),c.Gc(76,ct,12,1,"td",35),c.Rb(),c.Gc(77,lt,1,0,"tr",41),c.Gc(78,dt,1,0,"tr",42),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Tb()}if(2&t){const t=e.$implicit,n=c.fc();c.Cb(2),c.mc("ngIf",!t.img),c.Cb(1),c.mc("ngIf",t.img),c.Cb(6),c.mc("disabled",n.disable),c.Cb(18),c.mc("perfectScrollbar",n.config),c.Cb(7),c.Jc(n.AssemblyID),c.Cb(6),c.Jc(n.ModlID),c.Cb(6),c.Jc(c.hc(47,11,n.assName)),c.Cb(3),c.mc("dataSource",t.listData),c.Cb(28),c.mc("matHeaderRowDef",n.displayedColumns)("matHeaderRowDefSticky",!0),c.Cb(1),c.mc("matRowDefColumns",n.displayedColumns)}}let pt=(()=>{class t{constructor(t,e,n,i,a,o){this.dialog=t,this.router=e,this.route=n,this.masterdata=i,this.toaster=a,this.commonservice=o,this.config={},this.statusEvent=new c.o,this.displayedColumns=["sNo","partNo","partName","QV","ndp","moq","Remarks","status","edit"],this.dataSource=[],this.files="",this.pointSize=7,this.smSize=5,this.mdSize=7,this.lgSize=10,this.supPartsArray=[{id:1,img:"",x:0,y:0,listData:[]}],this.disable=!1,this.saveData={dealerID:0,AssembleID:0,ModelID:null,FigNo:null,CustumValue:0,parts:[],status:0,series:null,AssName:null,IsSub:!1,imgPath:null,coordinates:null,subID:null,subName:null,AssemblyGrp:null},this.sub=this.route.params.subscribe(t=>{console.log("VVVVVVVVVVVV",t),this.supPartsArray[0].x=t.x,this.supPartsArray[0].y=t.y,this.series=t.sId,this.isSub=this.commonservice.param4,this.AssemblyID=this.isSub?this.commonservice.param7:this.commonservice.param5,this.ModlID=this.commonservice.param6,this.assName=this.commonservice.param3,this.assGrpId=this.commonservice.param9,this.figNo=this.commonservice.param10})}ngOnInit(){this.getPartAssembDetail()}filesDropped(t,e){if(this.supPartsArray[e].img=this.imgUrl,this.files=t.target.files[0],t.target.files&&t.target.files[0]){const e=new FileReader;e.onload=t=>{this.supPartsArray[0].img=t.target.result},e.readAsDataURL(t.target.files[0])}console.log("i got",this.supPartsArray[0].img)}uploadedFile(t){if(this.file=t.target.files[0],this.file.size>0){let t=new FileReader;t.readAsArrayBuffer(this.file),t.onload=e=>{this.arrayBuffer=t.result;for(var n=new Uint8Array(this.arrayBuffer),i=new Array,a=0;a!=n.length;++a)i[a]=String.fromCharCode(n[a]);var o=i.join(""),s=B.read(o,{type:"binary"}),r=s.Sheets[s.SheetNames[0]];console.log(B.utils.sheet_to_json(r,{raw:!0}));var c=B.utils.sheet_to_json(r,{defval:""});this.filelist=[],this.filelist=c,console.log(this.filelist),this.readToDataSource()}}else this.toaster.warningToastr("No Data to Import !.....")}readToDataSource(){if(this.filelist.length>0){let t=[];for(let e=0;e<=this.filelist.length-1;e++){if(this.AssemblyID!=this.filelist[e].AssemblyId||this.series!=this.filelist[e].Series)return void this.toaster.warningToastr("Check the Assembly or Series Details which is not Matched for Row ID : "+this.filelist[e].id);t.push({REF_NO:this.filelist[e].id,PART_NO:this.filelist[e].partid,ACTIVE:1==this.filelist[e].Active?"true":"false",PART_DESC:this.filelist[e].partdesc,COORDINATES:this.filelist[e].coordinates,FIG_NO:this.filelist[e].FigNo,MOQ:this.filelist[e].MOQ,MRP:this.filelist[e].Mrp,NDP:this.filelist[e].NDP,ORD:this.filelist[e].Stock,QV:this.filelist[e].qv,REMARKS:this.filelist[e].Remarks})}this.supPartsArray[0].listData=t}}getPosition(t,e){this.currentInd=e,this.element=this.root,this.canvas=document.getElementById("canvas"),this.ctx=this.canvas.getContext("2d");let n=0,i=0;n+=t.offsetX,i+=t.offsetY,this.openDialog(n,i,"N","")}drawCoordinates(t,e){const n=this.ctx.createLinearGradient(0,0,170,0);n.addColorStop(1,"rgba(63, 191, 63,0.5)"),this.ctx.fillStyle=n,this.ctx.beginPath(),this.ctx.arc(Number(t),Number(e),this.pointSize,0,2*Math.PI,!0),this.ctx.fill();const i=this.ctx.getImageData(t,e,1,1).data,a="#"+("000000"+this.rgbToHex(i[0],i[1],i[2])).slice(-6);console.log(a)}rgbToHex(t,e,n){if(t>255||e>255||n>255)throw"Invalid color component";return(t<<16|e<<8|n).toString(16)}openDialog(t,e,n,i){this.dialog.open(E.a,{data:{x:t,y:e,type:"sub",isEdt:n,editData:i,PS:this.pointSize},width:"900px"}).afterClosed().subscribe(i=>{var a;i&&"N"==n&&(a=this.supPartsArray[this.currentInd].listData,this.supPartsArray[this.currentInd].listData=[],a.push(i),setTimeout(()=>{this.supPartsArray[this.currentInd].listData=a},1e3),console.log("shoe cur data",this.supPartsArray[this.currentInd].listData),this.drawCoordinates(t,e))})}addMoreParts(){this.supPartsArray.push({id:1,img:"",x:0,y:0,listData:[{id:1,head:"Moped",name:"TVS XL",parts:20,status:"Active",x:678,y:980,hover:!1}]})}remove(t){this.supPartsArray.splice(1,t)}save(){localStorage.setItem("quardinates",JSON.stringify(this.supPartsArray)),this.saveData.dealerID=localStorage.getItem("dealercode"),this.saveData.AssembleID=this.commonservice.param5,this.saveData.series=this.series,this.saveData.ModelID=this.ModlID,this.saveData.FigNo=this.commonservice.param10,this.saveData.isSub=this.isSub,this.saveData.status="S",this.saveData.imgPath=this.supPartsArray[0].img,this.saveData.AssName=this.assName,this.saveData.AssemblyGrp=this.assGrpId,this.saveData.coordinates=this.supPartsArray[0].x+","+this.supPartsArray[0].y+",10",this.saveData.subID=this.commonservice.param7,this.saveData.subName=this.commonservice.param8;let t=this.supPartsArray[0].listData,e=[];for(let n=0;n<t.length;n++)t[n].PART_NO&&e.push({REF_NO:t[n].REF_NO,PART_NO:t[n].PART_NO,ACTIVE:t[n].ACTIVE,PART_DESC:t[n].PART_DESC,COORDINATES:t[n].COORDINATES,FIG_NO:t[n].FIG_NO,Slno:t[n].SL_NO,MOQ:null==t[n].MOQ||null==t[n].MOQ?0:t[n].MOQ,MRP:null==t[n].MRP||null==t[n].MRP?0:t[n].MRP,NDP:null==t[n].NDP||null==t[n].NDP?0:t[n].NDP,Stock:null==t[n].ORD||null==t[n].ORD?0:t[n].ORD,QV:t[n].QV,REMARKS:t[n].REMARKS,IKEY:t[n].IKEY});this.saveData.parts=e,this.masterdata.post(this.saveData,"api/CatalougeMaster/AddandUpdateMPart").subscribe(t=>{200==t.statusCode?this.toaster.successToastr(t.data):this.toaster.errorToastr(t.data)},t=>{this.toaster.errorToastr(t.statusMessage)}),this.statusEvent.next("1")}goBack(){this.router.navigate(["/adminCat/detail"]),this.statusEvent.next("0")}fileChanged(t){alert("GG")}enterFun(t,e){console.log("FF")}changeSize(t){switch(t){case"sm":this.pointSize=this.smSize;break;case"md":this.pointSize=this.mdSize;break;case"lg":this.pointSize=this.lgSize}}getPartAssembDetail(){this.masterdata.getReq("","api/Catalouge/GetPartDetailsByAssemblyID?SERIES="+this.series+"&ASSEMBLY_ID="+this.AssemblyID).subscribe(t=>{t&&200==t.statusCode&&(console.log("sucesss",t.data.partDetails.count),t.data.partDetails.length>0&&(this.supPartsArray[0].listData=t.data.partDetails,this.supPartsArray[0].img=t.data.IMAGE_LINK),this.disable=!0)},t=>{this.toaster.errorToastr(t.statusMessage)})}editData(t){this.openDialog(t.x,t.y,"Y",t)}Add(){null!=this.supPartsArray[0].img&&null!=this.supPartsArray[0].img?(this.saveData.dealerID=localStorage.getItem("dealercode"),this.saveData.AssembleID=this.commonservice.param5,this.saveData.series=this.series,this.saveData.ModelID=this.ModlID,this.saveData.FigNo=this.commonservice.param5,this.saveData.IsSub=this.isSub,this.saveData.status="A",this.saveData.imgPath=this.supPartsArray[0].img,this.saveData.AssName=this.assName,this.saveData.coordinates=this.supPartsArray[0].x+","+this.supPartsArray[0].y+",10",this.saveData.subID=this.commonservice.param7,this.saveData.subName=this.commonservice.param8,this.saveData.parts=[],this.masterdata.post({Parts:this.saveData},"api/CatalougeMaster/AddandUpdateMPart").subscribe(t=>{200==t.statusCode?this.toaster.successToastr(t.data):this.toaster.errorToastr(t.data)},t=>{this.toaster.errorToastr(t.statusMessage)})):this.toaster.infoToastr("No Image Selected")}uploadImage(){const t=new FormData;t.append("image",this.files),t.append("folder",this.series),this.masterdata.postimags(t,"api/CatalougeMaster/UploadImages").subscribe(t=>{200==t.statusCode?(this.toaster.successToastr(t.message),this.disable=!0):this.toaster.errorToastr(t.message)},t=>{401==t.status&&this.toaster.errorToastr(t.statusMessage)})}}return t.\u0275fac=function(e){return new(e||t)(c.Ob(d.b),c.Ob(a.f),c.Ob(a.a),c.Ob(l.a),c.Ob(b.a),c.Ob(R.a))},t.\u0275cmp=c.Ib({type:t,selectors:[["app-cat-subparts"]],viewQuery:function(t,e){var n;1&t&&c.Nc(s.b,!0),2&t&&c.tc(n=c.cc())&&(e.directiveScroll=n.first)},outputs:{statusEvent:"statusEvent"},decls:4,vars:1,consts:[[1,"h-100"],[1,"srlDiv"],["class","flx col-12 rmpm dropzone mNone",4,"ngFor","ngForOf"],[1,"flxEnd"],[1,"flx","col-12","rmpm","dropzone","mNone"],[1,"col-md-4","col-sm-12"],["class","col-12 rmpm dropzone bNone","appDrag","",3,"files",4,"ngIf"],["class","cntr srlDiv",3,"perfectScrollbar",4,"ngIf"],[1,"col-md-9","col-sm-12"],[1,"disBtn"],["mat-stroked-button","","color","primary","placeholder","Upload Image",1,"pr-10",3,"disabled","click"],[1,"upload-btn-wrapper","wrChange"],["mat-stroked-button","","color","primary","placeholder","Add Parts List",1,"pr-10"],["type","file","name","myfile","accept",".xlsx",3,"change"],["mat-stroked-button","","color","primary",1,"pr-10",3,"click"],[1,"pa-30","mat-elevation-z8",3,"perfectScrollbar"],[1,"dispFlx","mobCol"],[1,"dispColIN","mpb-10"],["for","cat"],["name","cat","id","cat",1,"stCls"],["value","op.head"],["for","mod"],["name","mod","id","mod",1,"stCls"],["value","ModlID"],["value","AssemblyID"],[1,"example-container","mat-elevation-z8"],["mat-table","",1,"mat-elevation-z8","tabWith",3,"dataSource"],["matColumnDef","sNo"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","partNo"],["matColumnDef","partName"],["matColumnDef","QV"],["matColumnDef","ndp"],["class","w-50","mat-header-cell","",4,"matHeaderCellDef"],["class","w-50","mat-cell","",4,"matCellDef"],["matColumnDef","moq"],["matColumnDef","Remarks"],["matColumnDef","status"],["style","text-align:center","mat-header-cell","",4,"matHeaderCellDef"],["matColumnDef","edit"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["appDrag","",1,"col-12","rmpm","dropzone","bNone",3,"files"],[1,"text-wrapper"],[1,"centered"],[1,"fs-30","iconCls"],[1,"upload-btn-wrapper"],[1,"btn"],["type","file","name","myfile",3,"change"],[1,"cntr","srlDiv",3,"perfectScrollbar"],[1,"flStart"],[1,"flx"],[1,"smCls","cur_point","mr-10",3,"click"],[1,"mdCls","cur_point","mr-10","posb-2",3,"click"],[1,"lgCls","cur_point","mr-10","posb-6",3,"click"],[1,"example-full-width","wt-20","posb-6"],["matInput","","placeholder","Code",3,"ngModel","ngModelChange"],["id","canvas","width","450","height","570",1,"imgCls","mBlock",3,"mouseover","click"],["mat-header-cell",""],["mat-cell",""],["mat-header-cell","",1,"w-50"],["mat-cell","",1,"w-50"],["mat-header-cell","",2,"text-align","center"],["name","mod","id","mod",1,"stCls",3,"disabled","ngModel","ngModelChange"],["value","true"],["value","false"],["mat-icon-button","","aria-label","Example icon-button with a menu",3,"matMenuTriggerFor"],["xPosition","after"],["menu","matMenu"],["mat-menu-item","",3,"click"],["mat-menu-item",""],["mat-header-row",""],["mat-row",""]],template:function(t,e){1&t&&(c.Ub(0,"div",0),c.Ub(1,"div",1),c.Gc(2,bt,79,13,"div",2),c.Pb(3,"div",3),c.Tb(),c.Tb()),2&t&&(c.Cb(2),c.mc("ngForOf",e.supPartsArray))},directives:[i.m,i.n,p.b,m.a,s.b,u.r,u.x,g.j,g.c,g.e,g.b,g.g,g.i,z,k.c,k.f,F.b,u.c,u.n,u.q,g.d,g.a,u.v,h.c,h.d,h.a,g.f,g.h],pipes:[i.w,i.g],styles:[".centered[_ngcontent-%COMP%]{margin:0 150px!important}.flx[_ngcontent-%COMP%]{display:flex!important}.bNone[_ngcontent-%COMP%]{border:none!important}.stCls[_ngcontent-%COMP%]{height:25px;border-radius:15px}.flxEnd[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;margin-bottom:50px}.r-50[_ngcontent-%COMP%]{position:relative;right:50px}.srlDiv[_ngcontent-%COMP%]{height:800px}.h-100[_ngcontent-%COMP%]{height:100%}.disBtn[_ngcontent-%COMP%]{display:flex}.disBtn[_ngcontent-%COMP%], .sp[_ngcontent-%COMP%]{justify-content:space-between}.sp[_ngcontent-%COMP%]{padding:5px 22px 0 26px;height:15px}.pr-10[_ngcontent-%COMP%]{margin-right:10px;border:1px solid #61619d!important}.mNone[_ngcontent-%COMP%]{margin:7px 9px 7px 10px!important;max-height:620px}.cntr[_ngcontent-%COMP%]{text-align:center;position:relative;top:20px!important}.btn[_ngcontent-%COMP%]{border:2px solid grey;color:grey;background-color:#fff;padding:8px 20px;border-radius:8px;font-size:15px!important;font-weight:700}.btn[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%]{font-size:18px!important}.upload-btn-wrapper[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{font-size:100px;position:absolute;left:0;top:0;opacity:0;cursor:pointer}.wrChange[_ngcontent-%COMP%]{top:20px!important;height:42px!important}.smCls[_ngcontent-%COMP%]{width:14px;height:15px}.mdCls[_ngcontent-%COMP%], .smCls[_ngcontent-%COMP%]{background-color:red;border-radius:10px}.mdCls[_ngcontent-%COMP%]{width:20px;height:20px}.lgCls[_ngcontent-%COMP%]{width:30px;height:29px;background-color:red;border-radius:33px}.wt-20[_ngcontent-%COMP%]{width:20%}.srlDiv[_ngcontent-%COMP%]{height:calc(100% - 60px);position:relative}.flStart[_ngcontent-%COMP%]{align-items:flex-start;display:flex;flex-direction:column}.mr-10[_ngcontent-%COMP%]{margin:10px}.posb-2[_ngcontent-%COMP%]{bottom:2px}.posb-2[_ngcontent-%COMP%], .posb-6[_ngcontent-%COMP%]{position:relative}.posb-6[_ngcontent-%COMP%]{bottom:6px}.posb-10[_ngcontent-%COMP%]{position:relative;bottom:10px}.w-50[_ngcontent-%COMP%]{text-align:right}.mat-footer-cell[_ngcontent-%COMP%],   .mat-cell{font-size:11px!important}tr.mat-row[_ngcontent-%COMP%]{border:1px solid #e7e7e7;height:4px!important}tr.mat-header-row[_ngcontent-%COMP%]{border:1.2px solid #180c0c;font-weight:700;height:38px;background-color:rgba(49,106,211,.87);color:#fff!important}.dispColIN[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:25%;font-family:Cambria,Cochin,Georgia,Times,Times New Roman,serif,Arial,Helvetica,sans-serif;font-size:smaller}.dispColIN[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{height:25px}table[_ngcontent-%COMP%]{width:100%}.example-container[_ngcontent-%COMP%]{height:446px;max-width:100%;overflow:auto}","p[_ngcontent-%COMP%]{font-family:Lato}.dropzone[_ngcontent-%COMP%]{min-height:550px;min-width:400px;display:table;width:100%;background-color:#fff!important;border:1px solid #aaa;pad:10px;margin:30px;border-radius:10px}.text-wrapper[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}.centered[_ngcontent-%COMP%]{font-family:sans-serif;font-size:1.3em;font-weight:700;text-align:center;display:flex;flex-direction:column;align-items:center;line-height:2;border:1px dotted;height:200px;padding:75px 20px 3px;position:relative;top:20px;margin:0 300px}#canvas[_ngcontent-%COMP%]{background-repeat:no-repeat}.fs-30[_ngcontent-%COMP%]{font-size:80px}.upload-btn-wrapper[_ngcontent-%COMP%]{position:relative;overflow:hidden;display:inline-block}.cntr[_ngcontent-%COMP%]{top:5%}.btn[_ngcontent-%COMP%]{border:2px solid grey;color:grey;background-color:#fff;padding:8px 20px;border-radius:8px;font-size:20px;font-weight:700}.upload-btn-wrapper[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{font-size:100px;position:absolute;left:0;top:0;opacity:0;cursor:pointer}.iconCls[_ngcontent-%COMP%]{position:relative;bottom:45px;right:20px}.p-10[_ngcontent-%COMP%]{padding:10px}.pd[_ngcontent-%COMP%]{padding:0 40px}.pl-40[_ngcontent-%COMP%]{padding-left:40px}.mrLess[_ngcontent-%COMP%]{margin:0 100px!important}.cntr[_ngcontent-%COMP%]{text-align:center;position:relative;top:50px}.brdr[_ngcontent-%COMP%]{border:1px solid rgba(210,201,201,.76);border-radius:10px;display:flex;align-items:center;justify-content:space-around;margin:0 10px 10px 0}.p-30[_ngcontent-%COMP%]{padding:30px}.clrbtn[_ngcontent-%COMP%]{border:2px solid #cec5c5;color:grey;background-color:#fff;padding:8px 20px;border-radius:8px;font-size:16px;font-weight:700;cursor:pointer}.addBtn[_ngcontent-%COMP%]{float:right;padding:10px}.lisImg[_ngcontent-%COMP%]{width:70px;border-radius:100%}.mat-fab.mat-accent[_ngcontent-%COMP%], .mat-flat-button.mat-accent[_ngcontent-%COMP%], .mat-mini-fab.mat-accent[_ngcontent-%COMP%], .mat-raised-button.mat-accent[_ngcontent-%COMP%]{background-color:#a2b8d9;color:#585555}.pr-10[_ngcontent-%COMP%]{margin-right:10px;border:1px solid #61619d!important}.stCls[_ngcontent-%COMP%]{height:10px;border-radius:15px}",".pa-30[_ngcontent-%COMP%]{margin:7px}.pa-30[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:100%}.dispCol[_ngcontent-%COMP%]{display:flex;flex-direction:column;width:15%}.dispCol[_ngcontent-%COMP%]   select[_ngcontent-%COMP%]{height:25px}.pr-10[_ngcontent-%COMP%]{margin-right:10px;border:1px solid #61619d!important}.dispFlx[_ngcontent-%COMP%]{display:flex;justify-content:space-around!important;background:#fff;padding:5px;border-bottom:1px solid rgba(232,229,229,.63)}.headDisp[_ngcontent-%COMP%]{display:flex;justify-content:space-between;padding:7px}.btn[_ngcontent-%COMP%]{border:2px solid grey;color:grey;background-color:#fff;padding:8px 20px;border-radius:8px;font-size:20px;font-weight:700}.upload-btn-wrapper[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{font-size:100px;position:absolute;left:0;top:0;opacity:0}.wrChange[_ngcontent-%COMP%]{font-size:20px!important;width:130px!important;position:relative!important;height:45px}.h-45[_ngcontent-%COMP%]{height:38px}.pd[_ngcontent-%COMP%]{padding:4px 10px!important}.r-15[_ngcontent-%COMP%]{position:relative;right:15px;height:40px}.nu-table-body[_ngcontent-%COMP%]{overflow-y:auto;max-height:442px}.stCls[_ngcontent-%COMP%]{height:25px;border-radius:5px;border-color:rgba(49,106,211,.87)}.srlDiv[_ngcontent-%COMP%]{height:calc(100% - 100px);position:relative;background-repeat:no-repeat!important}td.mat-cell[_ngcontent-%COMP%], td.mat-footer-cell[_ngcontent-%COMP%]{border-bottom-width:1px;border-bottom-style:solid}  .mat-icon-button{height:33px!important}tr.mat-header-row[_ngcontent-%COMP%]{height:30px;background-color:#adbecb!important}tr.mat-footer-row[_ngcontent-%COMP%], tr.mat-row[_ngcontent-%COMP%]{height:36px}"]}),t})();function mt(t,e){if(1&t&&(c.Ub(0,"mat-option",13),c.Ic(1),c.Tb()),2&t){const t=e.$implicit;c.mc("value",t),c.Cb(1),c.Kc(" ",t.name," ")}}function ut(t,e){if(1&t&&(c.Ub(0,"mat-option",13),c.Ic(1),c.Tb()),2&t){const t=e.$implicit;c.mc("value",t),c.Cb(1),c.Lc(" ",t.DESCRIPTION," / ",t.MODEL_NAME," ")}}function gt(t,e){if(1&t&&(c.Ub(0,"mat-option",13),c.Ic(1),c.Tb()),2&t){const t=e.$implicit;c.mc("value",t.name),c.Cb(1),c.Kc(" ",t.name," ")}}function ht(t,e){if(1&t){const t=c.Vb();c.Ub(0,"div",3),c.Ub(1,"mat-form-field",14),c.Ub(2,"mat-label"),c.Ic(3," TYPE"),c.Tb(),c.Ub(4,"mat-select",15),c.bc("ngModelChange",(function(e){return c.xc(t),c.fc(2).menuType=e})),c.Gc(5,gt,2,2,"mat-option",6),c.Tb(),c.Tb(),c.Tb()}if(2&t){const t=c.fc(2);c.Cb(4),c.mc("ngModel",t.menuType),c.Cb(1),c.mc("ngForOf",t.subMenu.type)}}function ft(t,e){if(1&t){const t=c.Vb();c.Ub(0,"div",10),c.Ub(1,"button",16),c.bc("click",(function(){return c.xc(t),c.fc(2).uploadImage()})),c.Ub(2,"mat-icon"),c.Ic(3,"upload"),c.Tb(),c.Ic(4," Upload "),c.Tb(),c.Tb()}if(2&t){const t=c.fc(2);c.Cb(1),c.mc("disabled",t.disabled)}}function Ct(t,e){if(1&t){const t=c.Vb();c.Ub(0,"div"),c.Ub(1,"canvas",17),c.bc("click",(function(e){c.xc(t);const n=c.fc(2);return n.getPosition(e,n.subMenu)})),c.Tb(),c.Tb()}if(2&t){const t=c.fc(2);c.Cb(1),c.Dc("background-image","url("+t.subMenu.IMAGE_LINK+")")}}function xt(t,e){if(1&t){const t=c.Vb();c.Ub(0,"div"),c.Ub(1,"div",18),c.bc("files",(function(e){return c.xc(t),c.fc(2).filesDropped(e)})),c.Ub(2,"div",19),c.Ub(3,"div",20),c.Ub(4,"mat-icon",21),c.Ic(5,"cloud_upload_outline"),c.Tb(),c.Ub(6,"span"),c.Ic(7," Drop your file here! "),c.Tb(),c.Ub(8,"span"),c.Ic(9," Or "),c.Tb(),c.Ub(10,"div",22),c.Ub(11,"button",23),c.Ic(12,"Browse a file"),c.Tb(),c.Ub(13,"input",24),c.bc("change",(function(e){return c.xc(t),c.fc(2).filesDropped(e)})),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Tb()}}function Mt(t,e){if(1&t){const t=c.Vb();c.Ub(0,"div",18),c.bc("files",(function(e){return c.xc(t),c.fc(3).filesDropped(e)})),c.Ub(1,"div",19),c.Ub(2,"div",32),c.Ub(3,"mat-icon",21),c.Ic(4,"cloud_upload_outline"),c.Tb(),c.Ub(5,"span"),c.Ic(6," Drop your file here! "),c.Tb(),c.Ub(7,"span"),c.Ic(8," Or "),c.Tb(),c.Ub(9,"div",22),c.Ub(10,"button",23),c.Ic(11,"Browse a file"),c.Tb(),c.Ub(12,"input",24),c.bc("change",(function(e){return c.xc(t),c.fc(3).filesDropped(e)})),c.Tb(),c.Tb(),c.Tb(),c.Tb(),c.Tb()}}function Tt(t,e){if(1&t&&(c.Ub(0,"div",33),c.Pb(1,"img",34),c.Tb()),2&t){const t=c.fc(3);c.Cb(1),c.mc("src",t.files[0].url,c.zc)}}function It(t,e){if(1&t){const t=c.Vb();c.Ub(0,"div",22),c.Ub(1,"button",45),c.Ic(2,"Choose Color"),c.Tb(),c.Ub(3,"input",24),c.bc("change",(function(e){c.xc(t);const n=c.fc().index;return c.fc(3).onFileChange(e,n)})),c.Tb(),c.Tb()}}function vt(t,e){if(1&t&&(c.Ub(0,"div"),c.Pb(1,"img",46),c.Tb()),2&t){const t=c.fc().$implicit;c.Cb(1),c.mc("src",t.url,c.zc)}}function Pt(t,e){if(1&t){const t=c.Vb();c.Ub(0,"div",35),c.Ub(1,"mat-form-field",36),c.Ub(2,"mat-label"),c.Ic(3,"Code"),c.Tb(),c.Ub(4,"input",37),c.bc("ngModelChange",(function(n){return c.xc(t),e.$implicit.code=n})),c.Tb(),c.Tb(),c.Ub(5,"mat-form-field",36),c.Ub(6,"mat-label"),c.Ic(7,"Name"),c.Tb(),c.Ub(8,"input",38),c.bc("ngModelChange",(function(n){return c.xc(t),e.$implicit.name=n})),c.Tb(),c.Tb(),c.Gc(9,It,4,0,"div",39),c.Gc(10,vt,2,1,"div",0),c.Ub(11,"div"),c.Ub(12,"button",40),c.Ub(13,"mat-icon"),c.Ic(14,"more_vert"),c.Tb(),c.Tb(),c.Ub(15,"mat-menu",41,42),c.Ub(17,"button",43),c.bc("click",(function(){return c.xc(t),c.fc(3).addPart()})),c.Ic(18," Add Parts "),c.Tb(),c.Ub(19,"button",44),c.Ic(20," Edit "),c.Tb(),c.Ub(21,"button",44),c.Ic(22," Block "),c.Tb(),c.Ub(23,"button",44),c.Ic(24," Delete "),c.Tb(),c.Tb(),c.Tb(),c.Tb()}if(2&t){const t=e.$implicit,n=c.uc(16);c.Cb(4),c.mc("ngModel",t.code),c.Cb(4),c.mc("ngModel",t.name),c.Cb(1),c.mc("ngIf",!t.url),c.Cb(1),c.mc("ngIf",t.url),c.Cb(2),c.mc("matMenuTriggerFor",n)}}function Ot(t,e){if(1&t){const t=c.Vb();c.Ub(0,"div",25),c.Ub(1,"div",26),c.Gc(2,Mt,13,0,"div",27),c.Gc(3,Tt,2,1,"div",28),c.Tb(),c.Ub(4,"div",29),c.Gc(5,Pt,25,5,"div",30),c.Ub(6,"div",10),c.Ub(7,"button",31),c.bc("click",(function(){return c.xc(t),c.fc(2).moreColor()})),c.Ub(8,"mat-icon"),c.Ic(9,"add"),c.Tb(),c.Ic(10," Add Colour "),c.Tb(),c.Tb(),c.Tb(),c.Tb()}if(2&t){const t=c.fc(2);c.Cb(2),c.mc("ngIf",!t.files.length),c.Cb(1),c.mc("ngIf",t.files.length),c.Cb(2),c.mc("ngForOf",t.paintedarr.color),c.Cb(2),c.mc("disabled",!t.files.length)}}function Dt(t,e){if(1&t){const t=c.Vb();c.Ub(0,"div"),c.Ub(1,"h2",1),c.Ic(2,"Select Menu"),c.Tb(),c.Ub(3,"div",2),c.Ub(4,"div",3),c.Ub(5,"mat-form-field",4),c.Ub(6,"label"),c.Ic(7,"SEGMENT"),c.Tb(),c.Ub(8,"mat-select",5),c.bc("ngModelChange",(function(e){return c.xc(t),c.fc().mainMenu=e}))("selectionChange",(function(e){c.xc(t);const n=c.fc();return n.files=[],n.onChange(e.value)})),c.Gc(9,mt,2,2,"mat-option",6),c.Tb(),c.Tb(),c.Tb(),c.Ub(10,"div",3),c.Ub(11,"mat-form-field",4),c.Ub(12,"label"),c.Ic(13,"MODEL"),c.Tb(),c.Ub(14,"mat-select",7),c.bc("ngModelChange",(function(e){return c.xc(t),c.fc().subMenu=e}))("selectionChange",(function(e){return c.xc(t),c.fc().checkImage(e)})),c.Gc(15,ut,2,3,"mat-option",6),c.Tb(),c.Tb(),c.Tb(),c.Gc(16,ht,6,2,"div",8),c.Gc(17,ft,5,1,"div",9),c.Ub(18,"div",10),c.Ub(19,"button",11),c.bc("click",(function(){return c.xc(t),c.fc().AddModels()})),c.Ub(20,"mat-icon"),c.Ic(21,"ad"),c.Tb(),c.Ic(22," Add Models "),c.Tb(),c.Tb(),c.Tb(),c.Gc(23,Ct,2,2,"div",0),c.Gc(24,xt,14,0,"div",0),c.Gc(25,Ot,11,4,"div",12),c.Tb()}if(2&t){const t=c.fc();c.Cb(8),c.mc("ngModel",t.mainMenu),c.Cb(1),c.mc("ngForOf",t.mainMenuList),c.Cb(5),c.mc("ngModel",t.subMenu),c.Cb(1),c.mc("ngForOf",t.menuListArry),c.Cb(1),c.mc("ngIf","painted"==t.mainMenu.name),c.Cb(1),c.mc("ngIf",1==t.nullimg),c.Cb(6),c.mc("ngIf",1==t.nullimg),c.Cb(1),c.mc("ngIf",0==t.nullimg),c.Cb(1),c.mc("ngIf","painted"==t.mainMenu.name)}}function Ut(t,e){if(1&t){const t=c.Vb();c.Ub(0,"div"),c.Ub(1,"app-cat-subparts",47),c.bc("statusEvent",(function(e){return c.xc(t),c.fc().changeStatus(e)})),c.Tb(),c.Tb()}}const St=[{path:"",children:[{path:"",component:N},{path:"detail",component:(()=>{class t{constructor(t,e,n,i,a){this.dialog=t,this.router=e,this.masterdata=n,this.toaster=i,this.commonservice=a,this.files=null,this.pointSize=7,this.mainMenuList=[{id:1,name:"Moped"},{id:2,name:"Scooter"},{id:3,name:"Scooty"},{id:4,name:"Motorcycle"},{id:5,name:"Painted Parts"}],this.subMenuList=[{id:1,name:"TVS XL"},{id:2,name:"TVS XL-100"}],this.menuListArry=[{id:1,name:"Moped",subMenu:[{id:1,name:"TVS XL"},{id:2,name:"TVS XL-100"}]},{id:2,name:"Scooter",subMenu:[{id:1,name:"TVS XL"},{id:2,name:"TVS XL-100"}]},{id:3,name:"Scooty",subMenu:[{id:1,name:"TVS XL"},{id:2,name:"TVS XL-100"}]},{id:4,name:"Motorcycle",subMenu:[{id:1,name:"TVS XL"},{id:2,name:"TVS XL-100"}]},{id:5,name:"Painted Parts",subMenu:[{id:1,name:"Moped",type:[{id:1,name:"TVS XL"},{id:2,name:"TVS XL-100"}]},{id:2,name:"Scooter",type:[{id:1,name:"TVS XL"},{id:2,name:"TVS XL-100"}]},{id:3,name:"Scooty",type:[{id:1,name:"TVS XL"},{id:2,name:"TVS XL-100"}]},{id:4,name:"Motorcycle",type:[{id:1,name:"TVS XL"},{id:2,name:"TVS XL-100"}]}]},{id:6,name:"Dynamic",subMenu:[{id:1,name:"TVS XL"},{id:2,name:"TVS XL-100"}]}],this.mainMenu={id:"1",name:"",subMenu:""},this.subMenu={id:"",name:"",subMenu:""},this.quardinatesArray=[],this.paintedarr={img:"",color:[]},this.pageSta=!0,this.partsData=[]}ngOnInit(){this.getMenuDetail(),this.getMenuList(1),this.tempUrl="/assets/Images/paintedBike.png"}filesDropped(t){if(this.nullimg=!0,this.files=t.target.files[0],t.target.files&&t.target.files[0]){const e=new FileReader;e.onload=t=>{this.subMenu.IMAGE_LINK=t.target.result,this.disabled=!1},e.readAsDataURL(t.target.files[0])}console.log("i got",this.subMenu.IMAGE_LINK)}upload(){}getPosition(t,e){this.element=this.root,this.canvas=document.getElementById("canvas"),this.ctx=this.canvas.getContext("2d");let n=0,i=0;n+=t.offsetX,i+=t.offsetY,this.openDialog(n,i,e)}drawCoordinates(t,e){console.log("show the qr",t,e);const n=this.ctx.createLinearGradient(0,0,170,0);n.addColorStop(0,"black"),n.addColorStop(1,"red"),this.ctx.fillStyle=n,this.ctx.beginPath(),this.ctx.arc(Number(t),Number(e),this.pointSize,0,2*Math.PI,!0),this.ctx.fill();const i=this.ctx.getImageData(t,e,1,1).data,a="#"+("000000"+this.rgbToHex(i[0],i[1],i[2])).slice(-6);console.log(a)}rgbToHex(t,e,n){if(t>255||e>255||n>255)throw"Invalid color component";return(t<<16|e<<8|n).toString(16)}openDialog(t,e,n){"AddModel"==n?this.dialog.open(E.a,{data:{x:t,y:e,type:"AddModel",series:this.subMenu.SERIES,isEdt:"N",modelId:n.MODEL_ID}}).afterClosed().subscribe(t=>{}):this.dialog.open(E.a,{data:{x:t,y:e,type:"main",series:n.SERIES,isEdt:"N",modelId:n.MODEL_ID}}).afterClosed().subscribe(i=>{i&&(this.drawCoordinates(t,e),i.series||(i.series=n.SERIES),this.commonservice.param3=i.assemblyName,this.commonservice.param4=i.IsSubAssembly,this.commonservice.param5=i.assemblyid,this.commonservice.param6=i.modelId,this.commonservice.param7=i.subAssemblyId,this.commonservice.param8=i.subAssemDesc,this.commonservice.param9=i.subassemblygrp,this.commonservice.param10=i.figNo,this.router.navigate(["/adminCat/sub",{x:t,y:e,sId:i.series}]),this.curQur={x:t,y:e},this.pageSta=!1)})}changeStatus(t){this.pageSta=!0,"1"==t&&setTimeout(()=>{this.element=this.root,this.canvas=document.getElementById("canvas"),this.ctx=this.canvas.getContext("2d"),this.drawCoordinates(Number(this.curQur.x),Number(this.curQur.y))},1e3)}moreColor(){this.paintedarr.color.push({code:"",name:"",url:""})}onFileChange(t,e){if(this.userFile=t.target.files[0],this.imageSelected=this.userFile.name,t.target.files&&t.target.files[0]){const n=new FileReader;n.onload=t=>{console.log("the color",this.paintedarr.color,e),this.paintedarr.color[e].url=t.target.result},n.readAsDataURL(t.target.files[0])}}addPart(){this.router.navigate(["/adminCat/sub"])}getMenuDetail(){this.masterdata.getReq("","api/Catalouge/GetMenuCategory?dealerID="+localStorage.getItem("dealercode")).subscribe(t=>{t&&200==t.statusCode&&(this.mainMenuList=t.data.filter(t=>1==t.is_vehicle))},t=>{this.toaster.errorToastr(t.statusMessage)})}getMenuList(t){this.masterdata.getReq("","api/Catalouge/GetMenuList?dealerID="+localStorage.getItem("dealercode")+"&type="+Number(t)).subscribe(t=>{t&&200==t.statusCode&&(this.menuListArry=t.data,this.dataSourceTemp=this.menuListArry)},t=>{this.toaster.errorToastr(t.statusMessage)})}onChange(t){this.menuListArry=t.CATEGORY_ID>0?this.dataSourceTemp.filter(e=>e.CATEGORY_ID==t.CATEGORY_ID):this.dataSourceTemp}getPartAssembDetail(t){this.masterdata.getReq("","api/Catalouge/GetPartDetailsByAssemblyID?SERIES="+t.series.toUpperCase()+"&ASSEMBLY_ID="+t.assemblyid.toUpperCase()).subscribe(t=>{t&&200==t.statusCode&&(this.imgVar=t.data.IMAGE_LINK,console.log("sucesss",t.data.partDetails.count),this.partsData=t.data.partDetails)},t=>{this.toaster.errorToastr(t.statusMessage)})}AddModels(){this.subMenu.SERIES?this.openDialog(0,0,"AddModel"):this.toaster.errorToastr("Select SubMenu")}checkImage(t){const e=new Image;e.onload=()=>{},e.onerror=()=>{this.nullimg=!1,this.disabled=!1},this.nullimg=!0,this.disabled=!0,e.src=this.subMenu.IMAGE_LINK}uploadImage(){const t=new FormData;t.append("image",this.files),t.append("folder","Vehicle"),this.masterdata.postimags(t,"api/CatalougeMaster/UploadImages").subscribe(t=>{200==t.statusCode?(this.toaster.successToastr(t.message),this.subMenu.IMAGE_LINK="",this.nullimg=!1):this.toaster.errorToastr(t.message)},t=>{401==t.status&&this.toaster.errorToastr(t.statusMessage)})}}return t.\u0275fac=function(e){return new(e||t)(c.Ob(d.b),c.Ob(a.f),c.Ob(l.a),c.Ob(b.a),c.Ob(R.a))},t.\u0275cmp=c.Ib({type:t,selectors:[["app-catalogue-detail"]],decls:2,vars:2,consts:[[4,"ngIf"],[1,"p-10"],[1,"flx","pd"],[1,"pl-40"],["appearance","outline"],["name","main",1,"stCls",3,"ngModel","ngModelChange","selectionChange"],[3,"value",4,"ngFor","ngForOf"],["name","sub",1,"stCls",3,"ngModel","ngModelChange","selectionChange"],["class","pl-40",4,"ngIf"],["class","addBtn",4,"ngIf"],[1,"addBtn"],["mat-stroked-button","","color","primary",1,"pr-10",3,"click"],["class","flx",4,"ngIf"],[3,"value"],["appearance","fill"],["name","sub",1,"stCls",3,"ngModel","ngModelChange"],["mat-stroked-button","","color","primary",1,"pr-10",3,"disabled","click"],["id","canvas","width","850","height","650",3,"click"],["appDrag","",1,"col-12","rmpm","dropzone",3,"files"],[1,"text-wrapper"],[1,"centered"],[1,"fs-30","iconCls"],[1,"upload-btn-wrapper"],[1,"btn"],["type","file","name","myfile",3,"change"],[1,"flx"],[1,"col-md-6","col-sm-12"],["class","col-12 rmpm dropzone","appDrag","",3,"files",4,"ngIf"],["class","cntr",4,"ngIf"],[1,"col-md-6","col-sm-12","p-30"],["class","brdr",4,"ngFor","ngForOf"],["mat-raised-button","","color","primary",3,"disabled","click"],[1,"centered","mrLess"],[1,"cntr"],["alt","",3,"src"],[1,"brdr"],[1,"example-full-width","m-10"],["matInput","","placeholder","Code",3,"ngModel","ngModelChange"],["matInput","","placeholder","Name",3,"ngModel","ngModelChange"],["class","upload-btn-wrapper",4,"ngIf"],["mat-icon-button","","aria-label","Example icon-button with a menu",3,"matMenuTriggerFor"],["xPosition","after"],["menu","matMenu"],["mat-menu-item","",3,"click"],["mat-menu-item",""],[1,"clrbtn"],["alt","",1,"lisImg",3,"src"],[3,"statusEvent"]],template:function(t,e){1&t&&(c.Gc(0,Dt,26,9,"div",0),c.Gc(1,Ut,2,0,"div",0)),2&t&&(c.mc("ngIf",e.pageSta),c.Cb(1),c.mc("ngIf",!e.pageSta))},directives:[i.n,k.c,G.a,u.n,u.q,i.m,p.b,m.a,L.l,k.f,z,F.b,u.c,h.c,h.d,h.a,pt],styles:["p[_ngcontent-%COMP%]{font-family:Lato}.dropzone[_ngcontent-%COMP%]{min-height:550px;min-width:400px;display:table;width:100%;background-color:#fff!important;border:1px solid #aaa;pad:10px;margin:30px;border-radius:10px}.text-wrapper[_ngcontent-%COMP%]{display:table-cell;vertical-align:middle}.centered[_ngcontent-%COMP%]{font-family:sans-serif;font-size:1.3em;font-weight:700;text-align:center;display:flex;flex-direction:column;align-items:center;line-height:2;border:1px dotted;height:200px;padding:75px 20px 3px;position:relative;top:20px;margin:0 300px}#canvas[_ngcontent-%COMP%]{background-repeat:no-repeat}.fs-30[_ngcontent-%COMP%]{font-size:80px}.upload-btn-wrapper[_ngcontent-%COMP%]{position:relative;overflow:hidden;display:inline-block}.cntr[_ngcontent-%COMP%]{top:5%}.btn[_ngcontent-%COMP%]{border:2px solid grey;color:grey;background-color:#fff;padding:8px 20px;border-radius:8px;font-size:20px;font-weight:700}.upload-btn-wrapper[_ngcontent-%COMP%]   input[type=file][_ngcontent-%COMP%]{font-size:100px;position:absolute;left:0;top:0;opacity:0;cursor:pointer}.iconCls[_ngcontent-%COMP%]{position:relative;bottom:45px;right:20px}.p-10[_ngcontent-%COMP%]{padding:10px}.pd[_ngcontent-%COMP%]{padding:0 40px}.pl-40[_ngcontent-%COMP%]{padding-left:40px}.mrLess[_ngcontent-%COMP%]{margin:0 100px!important}.cntr[_ngcontent-%COMP%]{text-align:center;position:relative;top:50px}.brdr[_ngcontent-%COMP%]{border:1px solid rgba(210,201,201,.76);border-radius:10px;display:flex;align-items:center;justify-content:space-around;margin:0 10px 10px 0}.p-30[_ngcontent-%COMP%]{padding:30px}.clrbtn[_ngcontent-%COMP%]{border:2px solid #cec5c5;color:grey;background-color:#fff;padding:8px 20px;border-radius:8px;font-size:16px;font-weight:700;cursor:pointer}.addBtn[_ngcontent-%COMP%]{float:right;padding:10px}.lisImg[_ngcontent-%COMP%]{width:70px;border-radius:100%}.mat-fab.mat-accent[_ngcontent-%COMP%], .mat-flat-button.mat-accent[_ngcontent-%COMP%], .mat-mini-fab.mat-accent[_ngcontent-%COMP%], .mat-raised-button.mat-accent[_ngcontent-%COMP%]{background-color:#a2b8d9;color:#585555}.pr-10[_ngcontent-%COMP%]{margin-right:10px;border:1px solid #61619d!important}.stCls[_ngcontent-%COMP%]{height:10px;border-radius:15px}"]}),t})()},{path:"sub",component:pt}]}];let _t=(()=>{class t{}return t.\u0275mod=c.Mb({type:t}),t.\u0275inj=c.Lb({factory:function(e){return new(e||t)},providers:[],imports:[[i.c,a.i.forChild(St),o.a]]}),t})()}}]);